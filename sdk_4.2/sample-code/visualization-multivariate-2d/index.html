<!DOCTYPE html><html><head><meta charset="utf-8"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"><meta name="viewport" content="width=device-width,user-scalable=no"><meta name="content-language" content="en"><meta name="product" content="js-api-arcgis"><meta name="subject" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE"><meta name="subject_label" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE"><meta name="sub_category" content="JavaScript API"><meta name="sub_category_label" content="ArcGIS API for JavaScript"><meta name="content_type_label" content="API Reference"><meta name="search-collection" content="help"><meta name="content_type" content="API Reference"><meta name="version" content="4.x"><meta name="search-category" content="help-api,help-api-guide"><meta name="tags" content="3D,SceneView,FeatureLayer,SimpleMarkerSymbol,SimpleRenderer,visualization,renderer,symbols,get started,visualvariables"><meta name="last-modified" content="Thu Oct 27 2016 08:14:57 GMT-0700 (Pacific Daylight Time)"><title>Thematic multivariate visualization (2D) | ArcGIS API for JavaScript 4.2</title><link rel="shortcut icon" href="../../assets/img/favicon.ico"><link rel="stylesheet" href="../../assets/css/default.css"></head><body><div class="drawer drawer-left js-drawer" data-drawer="top-nav"><nav class="drawer-nav"><aside class="side-nav"><h2 class="side-nav-title text-center font-size-3">ArcGIS for Developers</h2><a class="side-nav-link" href="/">Home</a> <a class="side-nav-link" href="/documentation/">Documentation</a> <a class="side-nav-link" href="/features/">Features</a> <a class="side-nav-link" href="/community/">Community</a> <a class="side-nav-link" href="/plans/">Plans</a></aside></nav></div><div class="wrapper"><header class="top-nav top-nav-hover-top"><div class="grid-container"><div class="column-24 tablet-show"><div class="dropdown js-dropdown left"><a href="#" class="icon-ui-menu top-nav-title js-drawer-toggle top-nav-title-tablet" data-drawer="top-nav">ArcGIS API for JavaScript</a></div></div><div class="column-24 leader-1 trailer-1 tablet-leader-0">Go to <a href="https://developers.arcgis.com/javascript/">Latest version (official documentation)</a></div></div></header><header class="sub-nav sub-nav-purple"><div class="grid-container"><nav class="breadcrumbs breadcrumbs-white clearfix padding-leader-1"><a href="/web-api/" class="crumb">ArcGIS Web API</a> <a href="../.." class="crumb">JavaScript API</a> <a href="../.." class="crumb">4.2</a> <a href="../../sample-code/index.html" class="crumb">Sample Code</a></nav><h1 class="sub-nav-title text-white leader-1">ArcGIS API for JavaScript</h1><nav class="sub-nav-list leader-0"><a class="sub-nav-link" href="../../index.html">Home</a> <a class="sub-nav-link" href="../../guide/index.html">Guide</a> <a class="sub-nav-link" href="../../api-reference/index.html">API Reference</a> <a class="sub-nav-link is-active" href="../../sample-code/index.html">Sample Code</a> <a class="sub-nav-link" href="../../forum/index.html">Forum</a></nav></div></header><div class="grid-container leader-1"><div class="column-6 trailer-2"><div class="search"><div class="search-section"><input type="text" class="input-search js-search-sample-code" placeholder="Search for samples"></div></div><aside class="accordion side-nav js-accordion sample-code"><div class="accordion-section"><h4 class="accordion-title">Get Started</h4><nav class="accordion-content"><a href="../../sample-code/index.html" class="side-nav-link">Overview</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Mapping and Views</h4><nav class="accordion-content"><a href="../../sample-code/get-started-mapview/index.html" class="side-nav-link">Get started with MapView (2D)</a></nav><nav class="accordion-content"><a href="../../sample-code/get-started-sceneview/index.html" class="side-nav-link">Get started with SceneView (3D)</a></nav><nav class="accordion-content"><a href="../../sample-code/webmap-basic/index.html" class="side-nav-link">Load a WebMap</a></nav><nav class="accordion-content"><a href="../../sample-code/webscene-basic/index.html" class="side-nav-link">Load a WebScene</a></nav><nav class="accordion-content"><a href="../../sample-code/webscene-save/index.html" class="side-nav-link">Save a WebScene</a></nav><nav class="accordion-content"><a href="../../sample-code/webscene-slides/index.html" class="side-nav-link">WebScene slides</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-local/index.html" class="side-nav-link">Create a local scene</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-compass-2d/index.html" class="side-nav-link">Map rotation</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-goto/index.html" class="side-nav-link">Using goTo() in a SceneView</a></nav><nav class="accordion-content"><a href="../../sample-code/overview-map/index.html" class="side-nav-link">Overview map</a></nav><nav class="accordion-content"><a href="../../sample-code/view-padding/index.html" class="side-nav-link">View padding</a></nav><nav class="accordion-content"><a href="../../sample-code/basemap-custom/index.html" class="side-nav-link">Custom basemap</a></nav><nav class="accordion-content"><a href="../../sample-code/views-synchronize/index.html" class="side-nav-link">Synchronize two views</a></nav><nav class="accordion-content"><a href="../../sample-code/webmap-switch/index.html" class="side-nav-link">Swap web maps in the same view</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Layers</h4><nav class="accordion-content"><a href="../../sample-code/get-started-layers/index.html" class="side-nav-link">Get started with layers</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-featurelayer/index.html" class="side-nav-link">FeatureLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-featurelayer-collection/index.html" class="side-nav-link">Create FeatureLayer from array of graphics</a></nav><nav class="accordion-content"><a href="../../sample-code/featurelayerview-query/index.html" class="side-nav-link">Query FeatureLayerView</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-scenelayer/index.html" class="side-nav-link">SceneLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-scenelayer-texture/index.html" class="side-nav-link">Realistic buildings with SceneLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-scenelayer-points/index.html" class="side-nav-link">SceneLayer with points</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-vectortilelayer/index.html" class="side-nav-link">VectorTileLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-portal/index.html" class="side-nav-link">Create layer from portal item</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-mapimagelayer/index.html" class="side-nav-link">MapImageLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-mapimagelayer-sublayers/index.html" class="side-nav-link">MapImageLayer - toggle sublayer visibility</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-mapimagelayer-definitionexpression/index.html" class="side-nav-link">MapImageLayer - set definition expressions on sublayers</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-mapimagelayer-renderers/index.html" class="side-nav-link">MapImageLayer - set renderers on sublayers</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-mapimagelayer-dynamic-labels/index.html" class="side-nav-link">MapImageLayer - label sublayer features</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-dynamicmaplayer/index.html" class="side-nav-link">MapImageLayer - create a dynamic map layer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-dynamicdatalayer-table-join/index.html" class="side-nav-link">MapImageLayer - dynamic data layer with table join</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-dynamicdatalayer-query-table/index.html" class="side-nav-link">MapImageLayer - dynamic data layer with query table</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-dynamicdatalayer-raster/index.html" class="side-nav-link">MapImageLayer - raster data source</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-imagerylayer/index.html" class="side-nav-link">ImageryLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-imagery-pixelvalues/index.html" class="side-nav-link">ImageryLayer - client side pixel filter</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-imagery-popup/index.html" class="side-nav-link">ImageryLayer - server side raster function</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-imagery-renderingrule/index.html" class="side-nav-link">ImageryLayer - client side rendering rules</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-imagery-attribute-table/index.html" class="side-nav-link">ImageryLayer - raster attribute table</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-integratedmeshlayer/index.html" class="side-nav-link">IntegratedMeshLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-streamlayer/index.html" class="side-nav-link">StreamLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-csv/index.html" class="side-nav-link">CSVLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-osm-3d/index.html" class="side-nav-link">OpenStreetMapLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-webtile-3d/index.html" class="side-nav-link">WebTileLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-pointcloud-portal/index.html" class="side-nav-link">PointCloudLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-pointcloud/index.html" class="side-nav-link">PointCloudLayer renderers</a></nav></div><div class="accordion-section is-active"><h4 class="accordion-title">Visualization</h4><nav class="accordion-content"><a href="../../sample-code/get-started-visualization/index.html" class="side-nav-link">Get started with visualization</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-programmatic-overview/index.html" class="side-nav-link">Programmatic visualization overview</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-location-simple/index.html" class="side-nav-link">Visualize all features with same symbol</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-buildings-3d/index.html" class="side-nav-link">Extrude features by real world heights</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-trees-2d/index.html" class="side-nav-link">Scale features by real world sizes and shapes (2D)</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-trees-realistic/index.html" class="side-nav-link">Visualize features with realistic 3D symbols</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-location-types/index.html" class="side-nav-link">Visualize features by unique types</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-classbreaks/index.html" class="side-nav-link">Visualize data with class breaks</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-sm-color/index.html" class="side-nav-link">Generate data-driven continuous color visualization</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-sm-size/index.html" class="side-nav-link">Generate data-driven continuous size visualization</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-sm-uni-colorsize/index.html" class="side-nav-link">Generate data-driven univariate color and size visualization</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-vv-color/index.html" class="side-nav-link">Data-driven continuous color</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-vv-size/index.html" class="side-nav-link">Data-driven continuous size</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-vv-extrusion/index.html" class="side-nav-link">Data-driven extrusion</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-vv-opacity/index.html" class="side-nav-link">Data-driven opacity</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-scenelayer-vv-color/index.html" class="side-nav-link">Visualize a SceneLayer with continuous color</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-vv-rotation/index.html" class="side-nav-link">Visualize data with rotation</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-multivariate-2d/index.html" class="side-nav-link is-active">Multivariate visualizations (2D)</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-multivariate-3d/index.html" class="side-nav-link">Multivariate visualizations (3D)</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-arcade/index.html" class="side-nav-link">Create a custom visualization using Arcade</a></nav><nav class="accordion-content"><a href="../../sample-code/symbols-points-3d/index.html" class="side-nav-link">Flat vs. volumetric 3D symbol layers</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Popups</h4><nav class="accordion-content"><a href="../../sample-code/get-started-popup/index.html" class="side-nav-link">Get started with popups</a></nav><nav class="accordion-content"><a href="../../sample-code/get-started-popupTemplate/index.html" class="side-nav-link">Get started with PopupTemplate</a></nav><nav class="accordion-content"><a href="../../sample-code/popup-docking-position/index.html" class="side-nav-link">Popup dock positions</a></nav><nav class="accordion-content"><a href="../../sample-code/popup-multipleelements/index.html" class="side-nav-link">Multiple popup elements</a></nav><nav class="accordion-content"><a href="../../sample-code/popupTemplate-function/index.html" class="side-nav-link">PopupTemplate with functions</a></nav><nav class="accordion-content"><a href="../../sample-code/popup-actions/index.html" class="side-nav-link">Popup actions</a></nav><nav class="accordion-content"><a href="../../sample-code/popup-custom-action/index.html" class="side-nav-link">Custom popup actions per feature</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Graphics</h4><nav class="accordion-content"><a href="../../sample-code/get-started-graphics/index.html" class="side-nav-link">Get started with graphics</a></nav><nav class="accordion-content"><a href="../../sample-code/graphics-basic-3d/index.html" class="side-nav-link">Add graphics to a SceneView</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Searching</h4><nav class="accordion-content"><a href="../../sample-code/widgets-search-3d/index.html" class="side-nav-link">Search widget</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-search-multiplesource/index.html" class="side-nav-link">Search widget with multiple sources</a></nav><nav class="accordion-content"><a href="../../sample-code/featurelayer-query/index.html" class="side-nav-link">Query features from a FeatureLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-scenelayer-query-popup/index.html" class="side-nav-link">SceneLayer - query a linked FeatureLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/tasks-query/index.html" class="side-nav-link">Query using QueryTask</a></nav><nav class="accordion-content"><a href="../../sample-code/tasks-find/index.html" class="side-nav-link">Use FindTask without a map</a></nav><nav class="accordion-content"><a href="../../sample-code/tasks-identify/index.html" class="side-nav-link">IdentifyTask</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Analysis</h4><nav class="accordion-content"><a href="../../sample-code/ge-geodesicbuffer/index.html" class="side-nav-link">Geodesic buffers (GeometryEngine)</a></nav><nav class="accordion-content"><a href="../../sample-code/geoprocessing-viewshed/index.html" class="side-nav-link">Calculate Viewshed (Geoprocessing)</a></nav><nav class="accordion-content"><a href="../../sample-code/geoprocessing-hotspot/index.html" class="side-nav-link">Calculate Hotspot (Geoprocessing)</a></nav><nav class="accordion-content"><a href="../../sample-code/tasks-route/index.html" class="side-nav-link">RouteTask</a></nav><nav class="accordion-content"><a href="../../sample-code/elevation-query-points/index.html" class="side-nav-link">Query Elevation (Points)</a></nav><nav class="accordion-content"><a href="../../sample-code/elevation-query/index.html" class="side-nav-link">Query Elevation (Lines)</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Widgets</h4><nav class="accordion-content"><a href="../../sample-code/get-started-widgets/index.html" class="side-nav-link">Get started with widgets</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-home/index.html" class="side-nav-link">Home button</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-layerlist/index.html" class="side-nav-link">LayerList widget</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-layerlist-actions/index.html" class="side-nav-link">LayerList widget with actions</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-legend/index.html" class="side-nav-link">Legend widget</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-locate/index.html" class="side-nav-link">Locate button</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-print/index.html" class="side-nav-link">Print widget</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-track-basic/index.html" class="side-nav-link">Track current location</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-track/index.html" class="side-nav-link">Track widget simulation</a></nav><nav class="accordion-content"><a href="../../sample-code/simple-ui/index.html" class="side-nav-link">Using the view&#39;s UI</a></nav><nav class="accordion-content"><a href="../../sample-code/view-breakpoints/index.html" class="side-nav-link">Responsive widgets</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-custom-helloworld/index.html" class="side-nav-link">Custom Hello World Widget</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-custom-recenter/index.html" class="side-nav-link">Custom Recenter Widget</a></nav><nav class="accordion-content"><a href="../../sample-code/styling-simple-theme/index.html" class="side-nav-link">Author a simple theme</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-frameworks-angular/index.html" class="side-nav-link">Using widgets with Angular</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-frameworks-react/index.html" class="side-nav-link">Using widgets with React</a></nav></div><div class="accordion-section"><h4 class="accordion-title">More 3D</h4><nav class="accordion-content"><a href="../../sample-code/scene-toggle-elevation/index.html" class="side-nav-link">Toggle ground elevation</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-easy-navigate/index.html" class="side-nav-link">Easy navigation</a></nav><nav class="accordion-content"><a href="../../sample-code/sceneview-stars/index.html" class="side-nav-link">Realistic environment settings</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-environment/index.html" class="side-nav-link">Environment</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-elevationinfo/index.html" class="side-nav-link">ElevationInfo</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-webgl-support/index.html" class="side-nav-link">Detect WebGL support</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-elevationlayer/index.html" class="side-nav-link">Elevation layer</a></nav><nav class="accordion-content"><a href="../../sample-code/satellites-3d/index.html" class="side-nav-link">Satellites 3D</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-external-renderer/index.html" class="side-nav-link">Extend the SceneView WebGL engine</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-external-renderer-threejs/index.html" class="side-nav-link">Use three.js from an external renderer</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Other</h4><nav class="accordion-content"><a href="../../sample-code/request/index.html" class="side-nav-link">Request data from a remote server</a></nav><nav class="accordion-content"><a href="../../sample-code/identity-oauth-basic/index.html" class="side-nav-link">Access ArcGIS Online items via OAuth</a></nav><nav class="accordion-content"><a href="../../sample-code/chaining-promises/index.html" class="side-nav-link">Chaining promises</a></nav><nav class="accordion-content"><a href="../../sample-code/view-hittest/index.html" class="side-nav-link">Access features with click events</a></nav><nav class="accordion-content"><a href="../../sample-code/frameworks-bootstrap/index.html" class="side-nav-link">Calcite Maps and Bootstrap</a></nav><nav class="accordion-content"><a href="../../sample-code/styling-icon-fonts/index.html" class="side-nav-link">Using Esri Icon Fonts</a></nav><nav class="accordion-content"><a href="../../sample-code/watch-for-changes/index.html" class="side-nav-link">Watch for changes</a></nav><nav class="accordion-content"><a href="../../sample-code/view-events/index.html" class="side-nav-link">Add keyboard navigation shortcuts</a></nav><nav class="accordion-content"><a href="../../sample-code/portalitem-dragndrop/index.html" class="side-nav-link">Drag and drop portal items</a></nav></div></aside><div class="column-6 scroll-show tablet-hide js-sticky" data-top="46"><a href="#" class="btn btn-fill btn-clear">Back to Top</a></div></div><main class="column-17 tablet-column-12 pre-1 content-face"><div class="js-container-sample-code"><h1 id="thematic-multivariate-visualization-2d">Thematic multivariate visualization (2D)</h1><p><iframe class="column-17 tablet-column-12 trailer-1 iframe-sample-code js-container-sample-code-3d" title="Live Sample" src="../../sample-code/visualization-multivariate-2d/live/index.html">Loading sample here...</iframe></p><div class="panel panel-no-border hide trailer-1 js-container-sample-code-warning"><h3 class="text-red">This device does not support 3D.</h3><p>View the <a href="../../guide/system-requirements/index.html">system requirements</a> for more information.</p></div><p></p><p></p><div class="clearfix"><div class="trailer-1 btn-group-sample-code js-btn-group-sample-code"><a class="btn btn-sample-code" href="../../sample-code/sandbox/index.html?sample=visualization-multivariate-2d">Explore in the sandbox</a><a class="btn btn-clear btn-sample-code icon-ui-link-external js-btn-jsbin" data-jsbin-url="../../sample-code/visualization-multivariate-2d/live/index.html">JS Bin</a><a class="btn btn-clear btn-sample-code" href="../../sample-code/visualization-multivariate-2d/live/index.html">View live</a></div></div><p></p><p>In this tutorial we will explore <a href="../../api-reference/esri-renderers-Renderer.html#visualVariables">visual variables</a> and learn how to use them in multivariate mapping. While the sample showcased here will only use 2D symbols, the same principles apply to using visual variables with 3D symbols. For examples of using visual variables in 3D, see the <a href="../visualization-multivariate-3d/index.html">Symbolize 2D features with 3D symbols sample</a> and the <a href="../visualization-vv-extrusion/live/index.html">ExtrudeSymbol3DLayer sample</a>.</p><p>Prior to completing the following steps, you should be familiar with <a href="../../api-reference/esri-views-View.html">views</a>, <a href="../../api-reference/esri-Map.html">Map</a>, and <a href="../../api-reference/esri-layers-FeatureLayer.html">FeatureLayer</a>. If necessary, complete the following tutorials first:</p><ul><li><a href="../get-started-mapview/index.html">Get started with MapView</a></li><li><a href="../get-started-sceneview/index.html">Get started with SceneView</a></li><li><a href="../get-started-layers/index.html">Get started with Layers</a></li><li><a href="../layers-featurelayer/index.html">Review the basic FeatureLayer sample</a></li></ul><h2 id="1-create-a-simple-map">1. Create a simple map</h2><p>First create a simple <a href="../../api-reference/esri-Map.html">Map</a> and reference it in a <a href="../../api-reference/esri-views-SceneView.html">View</a>. Add a <a href="../../api-reference/esri-layers-FeatureLayer.html">FeatureLayer</a> to the map using the URL in the snippet below. Your JavaScript may look something like the code below:</p><pre><code class="js"><span class="hljs-built_in">require</span>([
  <span class="hljs-string">"esri/Map"</span>,
  <span class="hljs-string">"esri/views/SceneView"</span>,
  <span class="hljs-string">"esri/layers/FeatureLayer"</span>,
  <span class="hljs-string">"dojo/domReady!"</span>
], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">
  Map,
  SceneView,
  FeatureLayer
</span>) </span>{

  <span class="hljs-comment">// Create a feature layer for zip codes in Los Angeles</span>
  <span class="hljs-keyword">var</span> zipLyr = <span class="hljs-keyword">new</span> FeatureLayer({
    <span class="hljs-attr">url</span>: <span class="hljs-string">"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/Enriched%20USA%20ZIP%20Code%20Areas/FeatureServer/0"</span>,
    <span class="hljs-attr">outFields</span>: [<span class="hljs-string">"*"</span>],
    <span class="hljs-attr">definitionExpression</span>: <span class="hljs-string">"NAME='Los Angeles'"</span>
  });

  <span class="hljs-comment">// Create the map</span>
  <span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>({
    <span class="hljs-attr">basemap</span>: <span class="hljs-string">"gray"</span>,
    <span class="hljs-attr">layers</span>: [zipLyr]
  });

  <span class="hljs-comment">// Create the SceneView</span>
  <span class="hljs-keyword">var</span> view = <span class="hljs-keyword">new</span> SceneView({
    <span class="hljs-attr">container</span>: <span class="hljs-string">"viewDiv"</span>,
    <span class="hljs-attr">map</span>: map,
    <span class="hljs-attr">zoom</span>: <span class="hljs-number">12</span>,
    <span class="hljs-attr">center</span>: [<span class="hljs-number">-118.302</span>, <span class="hljs-number">34.022</span>]
  });
});
</code></pre><h2 id="2-define-a-color-visual-variable">2. Define a color visual variable</h2><p>There are four types of visual variables: <a href="../../api-reference/esri-renderers-Renderer.html#ColorVisualVariable">color</a>, <a href="../../api-reference/esri-renderers-Renderer.html#SizeVisualVariable">size</a>, <a href="../../api-reference/esri-renderers-Renderer.html#OpacityVisualVariable">opacity</a>, and <a href="../../api-reference/esri-renderers-Renderer.html#RotationVisualVariable">rotation</a>. Each may be used to visualize a numeric variable in the data on a continuous ramp. The minimum and maximum values may be defined, or stops may be used to create class breaks.</p><p>In this step, we'll use a ramp of two colors (pale yellow to dark blue) to visualize the percentage of the population in each ZIP code who owns a smart phone.</p><p>A visual variable is a simple object that looks like the following:</p><pre><code class="js"><span class="hljs-comment">// Define the variable</span>
<span class="hljs-keyword">var</span> colorVisVar = {
  <span class="hljs-comment">// The type must be set to color for the renderer to know it will use color</span>
  type: <span class="hljs-string">"color"</span>,
  <span class="hljs-comment">// Assign the field name to visualize with color (number of smart phone owners)</span>
  field: <span class="hljs-string">"MP27002a_B"</span>,
  <span class="hljs-comment">// If normalizing set the field to normalize by (in this case total population)</span>
  normalizationField: <span class="hljs-string">"TOTPOP_CY"</span>,
  <span class="hljs-comment">// Set the color ramp based on two values (min/max) and two colors</span>
  stops: [
      { <span class="hljs-attr">value</span>: <span class="hljs-number">0.33</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"#FFFCD4"</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-number">0.53</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"#0D2644"</span> }
  ]
};
</code></pre><p>Features where the percentage of the population owns a smart phone is between 33% and 53% will be assigned a color relative to the colors assigned the minimum and maximum values.</p><h2 id="3-define-a-size-visual-variable">3. Define a size visual variable</h2><p>The principles of defining visual variables are the same between color, size, and opacity. In this step, we'll use the size of the marker symbol to visualize the population density of each zip code.</p><p>The size object should look like the following:</p><pre><code class="js"><span class="hljs-keyword">var</span> sizeVisVar = {
  <span class="hljs-comment">// The type must be set to size for the renderer to know size will be altered</span>
  type: <span class="hljs-string">"size"</span>,
  <span class="hljs-comment">// Assign the field name to visualize with size (total population)</span>
  field: <span class="hljs-string">"TOTPOP_CY"</span>,
  <span class="hljs-comment">// Set the field to normalize the values by (in this case square miles)</span>
  normalizationField: <span class="hljs-string">"SQMI"</span>,
  <span class="hljs-attr">valueUnit</span>: <span class="hljs-string">"unknown"</span>,
  <span class="hljs-comment">// Create a size ramp based on the min/max values</span>
  stops: [
    { <span class="hljs-attr">value</span>: <span class="hljs-number">4000</span>, <span class="hljs-attr">size</span>: <span class="hljs-number">6</span> },
    { <span class="hljs-attr">value</span>: <span class="hljs-number">23000</span>, <span class="hljs-attr">size</span>: <span class="hljs-number">40</span> }
  ]
};
</code></pre><h2 id="4-define-the-renderer-and-assign-the-visual-variables-to-it">4. Define the renderer and assign the visual variables to it</h2><p>Once the objects are set, they may be assigned to a renderer. In most cases a <a href="../../api-reference/esri-renderers-SimpleRenderer.html">SimpleRenderer</a> will suffice.</p><p>When constructing the renderer, a default symbol should be assigned to it so the renderer will know how to treat the visual variables. Since ZIP codes are polygons, a <a href="../../api-reference/esri-symbols-SimpleFillSymbol.html">SimpleFillSymbol</a> could be used here, but then it couldn't take advantage of the size visual variable since fill symbols don't have size properties associated with them. In this case, we should use a <a href="../../api-reference/esri-symbols-SimpleMarkerSymbol.html">SimpleMarkerSymbol</a> so the renderer can size the markers based on the properties set in the size object.</p><pre><code class="js"><span class="hljs-keyword">var</span> renderer = <span class="hljs-keyword">new</span> SimpleRenderer({
  <span class="hljs-comment">// Define a default marker symbol.</span>
  symbol: <span class="hljs-keyword">new</span> SimpleMarkerSymbol(),
  <span class="hljs-comment">// Set the color and size visual variables on the renderer</span>
  visualVariables: [colorVisVar, sizeVisVar]
});
</code></pre><h2 id="5-set-the-renderer-on-the-layer">5. Set the renderer on the layer</h2><p>Once the renderer's properties are all set, you can assign it to the layer. In this sample, we want to set the renderer prior to adding the layer to the map.</p><pre><code class="js"><span class="hljs-comment">// Define the renderer</span>
<span class="hljs-keyword">var</span> renderer = <span class="hljs-keyword">new</span> SimpleRenderer({
  <span class="hljs-comment">// Define a default marker symbol. This</span>
  symbol: <span class="hljs-keyword">new</span> SimpleMarkerSymbol(),
  <span class="hljs-comment">// Set the color and size visual variables on the renderer</span>
  visualVariables: [colorVisVar, sizeVisVar]
});

<span class="hljs-comment">// Set the renderer on the layer</span>
zipLyr = <span class="hljs-keyword">new</span> FeatureLayer({
  <span class="hljs-attr">url</span>: <span class="hljs-string">"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/Enriched%20USA%20ZIP%20Code%20Areas/FeatureServer/0"</span>,
  <span class="hljs-attr">outFields</span>: [<span class="hljs-string">"*"</span>],
  <span class="hljs-attr">definitionExpression</span>: <span class="hljs-string">"NAME='Los Angeles'"</span>,
  <span class="hljs-attr">renderer</span>: renderer
});

<span class="hljs-comment">// Create the Map</span>
map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>({
  <span class="hljs-attr">basemap</span>: <span class="hljs-string">"gray"</span>,
  <span class="hljs-attr">layers</span>: [zipLyr]
});
</code></pre><h2 id="6-summary">6. Summary</h2><p>Visual variables are a simple and powerful way to visualize data. They don't involve complicated classification schemes and give you the option to map multiple variables in the same data set. As a cautionary note, using too many visual variables can make the map confusing and difficult to read.</p><p>As noted above, visual variables may be used in 3D symbols. Because of the nature of 3D visualization, multiple size varialbes may be set on a single layer. See the <a href="../visualization-multivariate-3d/index.html">Symbolize 2D features with 3D symbols sample</a> for an example of this.</p><p>After following the steps outlined above, you final JavaScript code should look like the following:</p><pre><code class="js">  <span class="hljs-built_in">require</span>([
    <span class="hljs-string">"esri/Map"</span>,
    <span class="hljs-string">"esri/views/SceneView"</span>,
    <span class="hljs-string">"esri/layers/FeatureLayer"</span>,
    <span class="hljs-string">"esri/symbols/SimpleMarkerSymbol"</span>,
    <span class="hljs-string">"esri/renderers/SimpleRenderer"</span>,
    <span class="hljs-string">"dojo/domReady!"</span>
  ], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">Map, SceneView, FeatureLayer, SimpleMarkerSymbol, SimpleRenderer
</span>) </span>{
  <span class="hljs-comment">// URL to the service containing smart phone ownership data</span>
  <span class="hljs-keyword">var</span> url = <span class="hljs-string">"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/Enriched%20USA%20ZIP%20Code%20Areas/FeatureServer/0"</span>;

  <span class="hljs-keyword">var</span> colorVisVar = {
    <span class="hljs-attr">type</span>: <span class="hljs-string">"color"</span>,
    <span class="hljs-attr">field</span>: <span class="hljs-string">"MP27002a_B"</span>,
    <span class="hljs-attr">normalizationField</span>: <span class="hljs-string">"TOTPOP_CY"</span>,
    <span class="hljs-attr">stops</span>: [
      { <span class="hljs-attr">value</span>: <span class="hljs-number">0.33</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"#FFFCD4"</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-number">0.53</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"#0D2644"</span> }
    ]
  };

  <span class="hljs-keyword">var</span> sizeVisVar = {
    <span class="hljs-attr">type</span>: <span class="hljs-string">"size"</span>,
    <span class="hljs-attr">field</span>: <span class="hljs-string">"TOTPOP_CY"</span>,
    <span class="hljs-attr">normalizationField</span>: <span class="hljs-string">"SQMI"</span>,
    <span class="hljs-attr">valueUnit</span>: <span class="hljs-string">"unknown"</span>,
    <span class="hljs-attr">stops</span>: [
      { <span class="hljs-attr">value</span>: <span class="hljs-number">4000</span>, <span class="hljs-attr">size</span>: <span class="hljs-number">6</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-number">23000</span>, <span class="hljs-attr">size</span>: <span class="hljs-number">40</span> }
    ]
  }

  <span class="hljs-keyword">var</span> renderer = <span class="hljs-keyword">new</span> SimpleRenderer({
    <span class="hljs-comment">// Define a default marker symbol with a small outline</span>
    symbol: <span class="hljs-keyword">new</span> SimpleMarkerSymbol({
      <span class="hljs-attr">outline</span>: { <span class="hljs-comment">// autocasts as new SimpleLineSymbol()</span>
        color: [<span class="hljs-number">128</span>,<span class="hljs-number">128</span>,<span class="hljs-number">128</span>],
        <span class="hljs-attr">width</span>: <span class="hljs-number">0.5</span>
      }
    }),
    <span class="hljs-comment">// Set the color and size visual variables on the renderer</span>
    visualVariables: [colorVisVar, sizeVisVar]
  });

  <span class="hljs-comment">// Set the renderer on the feature layer</span>
  <span class="hljs-keyword">var</span> zipLyr = <span class="hljs-keyword">new</span> FeatureLayer({
    <span class="hljs-attr">url</span>: url,
    <span class="hljs-attr">outFields</span>: [<span class="hljs-string">"*"</span>],
    <span class="hljs-attr">definitionExpression</span>: <span class="hljs-string">"NAME='Los Angeles'"</span>,
    <span class="hljs-attr">renderer</span>: renderer,
    <span class="hljs-comment">// This prevents the markers from "billboarding" when the SceneView is tilted</span>
    elevationInfo: {
      <span class="hljs-attr">mode</span>: <span class="hljs-string">"on-the-ground"</span>
    }
  });

  map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>({
    <span class="hljs-attr">basemap</span>: <span class="hljs-string">"gray"</span>,
    <span class="hljs-attr">layers</span>: [zipLyr]
  });

  view = <span class="hljs-keyword">new</span> SceneView({
    <span class="hljs-attr">container</span>: <span class="hljs-string">"viewDiv"</span>,
    <span class="hljs-attr">map</span>: map,
    <span class="hljs-attr">zoom</span>: <span class="hljs-number">12</span>,
    <span class="hljs-attr">center</span>: [<span class="hljs-number">-118.302</span>, <span class="hljs-number">34.022</span>]
  });
});
</code></pre><h2 id="7-additional-visualization-tutorials-and-samples">7. Additional visualization tutorials and samples</h2><ul><li><a href="../visualization-vv-extrusion/index.html">Data-driven extrusion</a></li><li><a href="../visualization-vv-opacity/index.html">Data-driven opacity</a></li><li><a href="../visualization-multivariate-3d/index.html">Thematic multivariate visualization (3D)</a></li><li><a href="https://blogs.esri.com/esri/arcgis/2016/01/19/3d-visualization-working-with-icons-lines-and-fill-symbols/">ArcGIS blog - Working with icons, lines, and fill symbols</a></li></ul></div><div class="search-results js-search-results-sample-code"><h1>Sample search results</h1><table class="table-striped"><thead><tr><th>Title</th><th>Sample</th></tr></thead><tbody></tbody></table><div class="panel-no-border search-no-results js-search-no-results-sample-code"><p>There were no match results from your search criteria.</p></div></div></main></div><div class="footnote feedback right trailer-1"><a class="icon-ui-contact js-feedback" href="mailto:js_feedback@esri.com?subject=Feedback%20on%204.2%20-%20sample-code:%20Thematic%20multivariate%20visualization%20(2D)&body=Hello,%0A%0AI%20was%20reading%20the%20ArcGIS%20API%20for%20JavaScript%20version%204.2%20documentation%20and%20have%20some%20feedback.%0A%0ADocumentation%20details:%0APage%20title:%20%7BREPLACE_TITLE%7D%0APage%20URL:%20%7BREPLACE_URL%7D%0A%0A">Feedback on this topic?</a></div></div><footer class="footer leader- link-dark-gray" role="contentinfo"><div class="grid-container"><nav class="column-6"><h6>ArcGIS for Developers</h6><ul class="list-plain"><li><a href="/">Home</a></li><li><a href="/features/">Features</a></li><li><a href="/documentation/">Documentation</a></li><li><a href="/startups/">Startups</a></li><li><a href="https://blogs.esri.com/esri/arcgis/category/developer/">Blog</a></li></ul></nav><nav class="column-6"><h6>ArcGIS Platform</h6><ul class="list-plain"><li><a href="http://arcgis.com">ArcGIS Online</a></li><li><a href="http://desktop.arcgis.com">ArcGIS for Desktop</a></li><li><a href="http://server.arcgis.com">ArcGIS for Server</a></li><li><a href="http://developers.arcgis.com">ArcGIS for Developers</a></li><li><a href="http://solutions.arcgis.com">ArcGIS Solutions</a></li><li><a href="http://marketplace.arcgis.com">ArcGIS Marketplace</a></li></ul></nav><nav class="column-6"><h6>About Esri</h6><ul class="list-plain"><li><a href="http://www.esri.com/about-esri/">About Us</a></li><li><a href="http://www.esri.com/careers/">Careers</a></li><li><a href="https://blogs.esri.com/esri/esri-insider/">Insiders Blog</a></li><li><a href="http://www.esri.com/events/user-conference/index.html">User Conference</a></li><li><a href="http://www.esri.com/events/devsummit/index.html">Developer Summit</a></li></ul></nav><nav class="column-6"><a class="esri-logo" href="http://esri.com" aria-label="Esri Home"></a><div class="footer-social-nav leader-1"><a class="icon-social-twitter" aria-label="Esri on Twitter" href="https://twitter.com/Esri/"></a> <a class="icon-social-facebook" aria-label="Esri on Facebook" href="https://www.facebook.com/esrigis/"></a> <a class="icon-social-github" aria-label="Esri on GitHub" href="http://esri.github.com/"></a> <a class="icon-social-contact" aria-label="Contact Esri" href="http://www.esri.com/about-esri/contact/"></a></div></nav><div class="column-24 leader-1"><p><small><a href="http://www.esri.com/legal/copyright-trademarks">Copyright © 2016 Esri</a>. All rights reserved. | <a href="http://www.esri.com/legal/privacy">Privacy</a> | <a href="https://developers.arcgis.com/terms/faq/">Terms of use</a></small></p></div></div></footer><script></script><script src="../../assets/js/config.js"></script><script src="../../assets/js/preparse.js"></script><script src="../../assets/js/calcite-web.js"></script><script src="../../assets/js/calcite-web-extend.js"></script><script src="../../assets/js/libs/lunr.js"></script><script src="../../assets/js/sample-code-lunr.js"></script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NJGGV5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJGGV5');</script></body></html>