/*! ArcGIS API for JavaScript 4.2 | Copyright (c) 2016 Esri. All rights reserved. | http://www.esri.com/legal/privacy | https://developers.arcgis.com/terms/faq */
function expander(){var e=calcite.findElements(".js-expand-toggle"),t=document.querySelectorAll(".js-expand");e.forEach(function(e){calcite.addEvent(e,calcite.click(),function(a){calcite.preventDefault(a);var n=e.getAttribute("data-expand"),c=document.querySelector('.js-expand[data-expand="'+n+'"]'),l=calcite.has(c,"is-active"),r=calcite.has(c,"is-active");calcite.toggleActive(t,c),l&&r?calcite.remove(c,"is-active"):calcite.add(c,"is-active")})})}function apiReferenceIndexPage(){function e(e){var t=e.parent,a=calcite.nodeListToArray(t.querySelectorAll(".js-tab")),n=e.active,c=calcite.nodeListToArray(t.querySelectorAll(".js-tab-section")),l=a.indexOf(n),r=c[l];a.forEach(function(e){e.setAttribute("aria-expanded",!1)}),n.setAttribute("aria-expanded",!0),calcite.toggleActive(a,n),c.forEach(function(e){e.setAttribute("aria-expanded",!1)}),r.setAttribute("aria-expanded",!0),calcite.toggleActive(c,r)}function t(){var t=/#modules(-in)?/im,a=/#index(-[a-z])?/im,n=document.location.hash,c="";if(t.test(n)?(c="all-modules",window.location.hash="#modules"):a.test(n)&&(c="all-index",window.location.hash="#index"),""!==c){var l=document.querySelector(".js-tab-"+c),r=calcite.closest("js-tab-group",l);e({parent:r,active:l})}}calcite.bus.on("urlhash-change",function(e){t()}),calcite.bus.on("tabs:active",function(e){window.location.hash=e.active.hash}),t()}function apiReferenceSearch(){function e(){c.style.display="block",l.style.display="none"}function t(t){var a=t.target.value;if(a)if(c.style.display="none",l.style.display="block","object"==typeof apiRefSearchIndex&&"object"==typeof apiRefSearchData){var d=apiRefSearchIndex.search(a);if(d.length>0){n.matches?document.querySelector(".side-nav.api-reference").style.display="none":document.querySelector(".side-nav.api-reference").style.display="block";var u=d.map(function(e){var t=apiRefSearchData[e.ref];if(/\.html#/.test(t.page_url)){var a=/[-\w]*(?=$)/im,n=a.test(t.page_url)?t.page_url.match(a)[0]:t.class;t.secondary_search_term=n}else t.secondary_search_term=t.class;return t.tertiary_search_term=t.package+"/"+t.class,t}),p=u.sort(function(e,t){return t.rank-e.rank||e.secondary_search_term.localeCompare(t.secondary_search_term)||e.tertiary_search_term.localeCompare(t.tertiary_search_term)}),m="",h="";p.forEach(function(e){m+="<tr><td>"+e.html+"</td><td>"+e.type+"</td><td>"+e.package+"/<a href='"+e.page_url+"'>"+e.class+"</a></td></tr>",h+="<tr><td>",h+="<table><thead><tr><td>Name, Type, Module</td></tr></thead><tbody>",h+="<tr><td>"+e.html+"</td></tr><tr><td>"+e.type+"</td></tr><tr><td>"+e.package+"/<a href='"+e.page_url+"'>"+e.class+"</a></td></tr>",h+="</tbody></table></td></tr>"}),r.innerHTML=m,s.innerHTML=h,i.style.display="none",o.style.display="table";var b=document.querySelectorAll(".js-api-ref-container-content-search table a"),y=calcite.nodeListToArray(b);y.forEach(function(t){calcite.addEvent("apireference-searchresult-click",calcite.click(),e)})}else o.style.display="none",i.style.display="block"}else console.warn("api-reference search index and data is not loaded!");else c.style.display="block",l.style.display="none",i.style.display="none",document.querySelector(".side-nav.api-reference").style.display="block"}var a=document.querySelector(".js-search-api-reference"),n=window.matchMedia("screen and (max-width: 860px)");if(n.addListener(function(e){var t=document.querySelector(".side-nav.api-reference");e.matches&&t?(console.log("smaller"),t.style.display="none"):t&&(console.log("larger"),t.style.display="block")}),a){var c=document.querySelector(".js-container-api-reference"),l=document.querySelector(".js-search-results-api-reference"),r=document.querySelector(".js-search-results-api-reference tbody.phone-hide"),s=document.querySelector(".js-search-results-api-reference tbody.phone-show"),o=document.querySelector(".js-search-results-api-reference table"),i=document.querySelector(".js-search-no-results-api-reference");calcite.bus.on("apireference-searchresult-click",e()),calcite.addEvent(a,"keyup",t)}}function sampleCodeOverviewDescription(){if(document.querySelector(".js-feedback")){var e=document.querySelector(".js-feedback"),t=e.href.replace("%7BREPLACE_TITLE%7D",encodeURIComponent(document.title));e.href=t.replace("%7BREPLACE_URL%7D",encodeURIComponent(document.location.href))}if(document.querySelector(".js-container-sample-code-3d")){var a=document.querySelector(".js-container-sample-code-3d"),n=document.querySelector(".js-container-sample-code-warning");if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(navigator.userAgent)&&(calcite.addClass(a,"hide"),calcite.toggleClass(n,"hide"),document.querySelector(".js-btn-group-sample-code"))){var c=document.querySelector(".js-btn-group-sample-code");calcite.addClass(c,"hide")}}}function sampleCodeSearch(){function e(e){var t=e.target.value;if(t)if(n.style.display="none",c.style.display="block","object"==typeof sampleCodeSearchIndex&&"object"==typeof sampleCodeSearchData){var o=sampleCodeSearchIndex.search(t);if(o.length>0){a.matches?document.querySelector(".side-nav.sample-code").style.display="none":document.querySelector(".side-nav.sample-code").style.display="block";var i="";Object.keys(o).forEach(function(e){var t=sampleCodeSearchData[o[e].ref],a=d.test(t.live_link)?t.live_link:u+t.live_link,n="<a href='"+u+t.page_url+"'>"+t.title+"</a>",c="";t.sandbox?(c+='<a class="btn btn-small btn-sandbox btn-sample-code tablet-hide js-btn-sandbox" href=\''+p+t.sample_name+"'>Explore in the sandbox</a>",c+='<a class="btn btn-small btn-sandbox btn-sample-code tablet-show js-btn-sandbox" href=\''+p+t.sample_name+"'>Sandbox</a>"):(c+='<a class="btn btn-disabled btn-small btn-sample-code tablet-hide js-btn-sandbox">Explore in the sandbox</a>',c+='<a class="btn btn-disabled btn-small btn-sample-code tablet-show js-btn-sandbox">Sandbox</a>'),c+=t.jsbin?'<a class="btn btn-clear btn-small icon-ui-link-external btn-sample-code js-btn-jsbin" data-jsbin-url=\''+a+"'>JS Bin</a>":'<a class="btn btn-disabled btn-small icon-ui-link-external btn-sample-code js-btn-jsbin" data-jsbin-url=\''+a+"'>JS Bin</a>",c+='<a class="btn btn-clear btn-small btn-sample-code" href=\''+a+"'>View live</a>",i+="<tr><td>"+n+"</td><td>"+c+"</td></tr>"}),l.innerHTML=i,s.style.display="none",r.style.display="table",enableJSBinEventHandler()}else r.style.display="none",s.style.display="block"}else console.warn("sample-code search index and data is not loaded!");else n.style.display="block",c.style.display="none",s.style.display="none",document.querySelector(".side-nav.sample-code").style.display="block"}var t=document.querySelector(".js-search-sample-code"),a=window.matchMedia("screen and (max-width: 860px)");if(a.addListener(function(e){var t=document.querySelector(".side-nav.sample-code");e.matches&&t?(console.log("smaller"),t.style.display="none"):t&&(console.log("larger"),t.style.display="block")}),t){var n=document.querySelector(".js-container-sample-code"),c=document.querySelector(".js-search-results-sample-code"),l=document.querySelector(".js-search-results-sample-code tbody"),r=document.querySelector(".js-search-results-sample-code table"),s=document.querySelector(".js-search-no-results-sample-code"),o=document.location.href,i=/https?:\/\/([\da-zA-Z\.-]+\.([a-z\.]){2,6}|localhost):?[\/\w\.-]*(?=sample-code)/gm,d=/https?/,u=o.match(i)?o.match(i)[0]:"",p=u+"sample-code/sandbox/index.html?sample=";calcite.addEvent(t,"keyup",e)}enableJSBinEventHandler()}function jsBinEventHandler(e){function t(e,t){var n=e.match(c),l=n?n[0]:(65536*(1+Math.random())|0).toString(16).substring(1),r=window.open("about:blank",l),s=new XMLHttpRequest;s.open("GET",e,!0),s.onreadystatechange=function(n){if(s.readyState===XMLHttpRequest.DONE&&200===s.status){var c=a(s.responseText,e);t(r,c)}else 404===s.status&&console.log("Unable to locate url %s",n.currentTarget.responseURL)},s.onerror=function(e){console.log("An error occurred while fetching url %s",e.currentTarget.responseURL)},s.send()}function a(e,t){var a="<!-- \n  ArcGIS API for JavaScript, https://js.arcgis.com\n  For more information about the {{ sample_name }} sample, read the original sample description at developers.arcgis.com.\n  {{ sample_url }}  \n  -->\n  ",n=e,l=/<title>[^<]*<\/title>/im,r=e.match(l),s=r?r[0]:"",o=s.replace(/<\/?title>/gim,"");if(s&&""!==s){var i=t.match(c),d=i?i[0]:"sample",u="https://developers.arcgis.com/javascript/latest/"+d+"/index.html",p="";p+='<meta name="description" content="['+o+']">\n  ',p+=a.replace(/{{\ssample_name\s}}/,d).replace(/{{\ssample_url\s}}/,u)+s,n=e.replace(l,p)}return n}function n(e,t){var a,n=["html","css","js"],c=e.document.createElement("form");c.setAttribute("target","_self"),c.setAttribute("method","post"),c.setAttribute("action","https://jsbin.com?html,output"),c.style.display="none";for(var l=0;l<n.length;l++)a=e.document.createElement("input"),c.appendChild(a),a.type="hidden",a.name=n[l],"html"===n[l]?a.value=encodeURIComponent(t):a.value="";e.document.body.appendChild(c),c.submit()}var c=/[-\w]*(?=\/live\/index\.html)/im,l=e.target.getAttribute("data-jsbin-url")||"";l&&""!==l?t(l,n):console.log("Unable to retrieve sample code source for %s",l)}function enableJSBinEventHandler(){var e=calcite.nodeListToArray(document.querySelectorAll(".js-btn-jsbin"));e&&e.length&&e.forEach(function(e){calcite.addEvent(e,calcite.click(),jsBinEventHandler)})}function urlHashWatcher(){if("onhashchange"in window)window.onhashchange=function(e){calcite.bus.emit("urlhash-change",e)};else{var e=window.location,t=e.href,a=e.hash;setInterval(function(){var n=e.href,c=e.hash;c!==a&&"function"==typeof window.onhashchange&&(window.onhashchange({type:"hashchange",oldURL:t,newURL:n}),t=n,a=c,calcite.bus.emit("urlhash-change",{type:"hashchange",oldURL:t,newURL:n}))},100)}}"object"==typeof calcite?(calcite.init(),window.calcite=calcite,"function"!=typeof calcite.expander&&calcite.extend(expander()),calcite.extend(urlHashWatcher()),calcite.extend(apiReferenceIndexPage()),calcite.extend(apiReferenceSearch()),calcite.extend(sampleCodeOverviewDescription()),calcite.extend(sampleCodeSearch()),document.documentElement.setAttribute("data-browser",navigator.userAgent)):console.warn("calcite-web not available!");