<!DOCTYPE html><html><head><meta charset="utf-8"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="content-language" content="en"><meta name="last-modified" content="Sun Feb 26 2017 09:18:23 GMT-0800 (Pacific Standard Time)"><meta name="product" content="js-api-arcgis"><meta name="version" content="4.x"><meta name="subject" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE"><meta name="subject_label" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE"><meta name="sub_category" content="JavaScript API"><meta name="sub_category_label" content="ArcGIS API for JavaScript"><meta name="content_type" content="Guide"><meta name="content_type_label" content="Guide"><meta name="search-collection" content="help"><meta name="search-category" content="help-api,help-api-guide"><title>Widget development | ArcGIS API for JavaScript 4.3</title><link rel="shortcut icon" href="../../assets/img/favicon.ico"><link rel="stylesheet" href="../../assets/css/default.css"></head><body><developers-account-notifications></developers-account-notifications><div class="wrapper"><developers-top-navigation><header class="top-nav"><div class="grid-container"><div class="column-24"><div class="top-nav-flex"><div class="tablet-hide"><a class="skip-to-content" href="#skip-to-content">Skip To Content</a><a href="/" class="top-nav-title font-size-1">ArcGIS for Developers</a><nav class="top-nav-list top-nav-animation" role="navigation" aria-labelledby="topnav"><span class="global-divider global-divider-right" aria-role="presentation"></span><a href="/dashboard/" class="icon-ui-dashboard top-nav-link hide-if-logged-out">Dashboard</a><div class="dropdown js-dropdown top-nav-margin-left hide-if-logged-out hide-if-public-account"><a class="btn-transparent top-nav-link dropdown-btn dropdown-btn-filled js-dropdown-toggle text-no-wrap" tabindex="0" aria-haspopup="true" aria-expanded="false" role="button"><span class="icon-ui-plus icon-ui-flush right"></span></a><nav class="js-dropdown-menu dropdown-menu dropdown-left text-left"><a href="/applications/new/" class="icon-ui-applications dropdown-link">New Application</a> <a href="/layers/new/" class="icon-ui-layers dropdown-link">New Layer</a></nav></div><span class="global-divider hide-if-logged-out" aria-role="presentation"></span> <a href="/labs/" class="top-nav-link">Get Started</a> <a href="/documentation/" class="top-nav-link">Documentation</a> <a href="/features/" class="top-nav-link hide-if-logged-in">Features</a> <a href="/pricing/" class="top-nav-link">Pricing</a> <a href="/support/" class="top-nav-link">Support</a></nav></div><nav class="tablet-show top-nav-flex-list" role="navigation" aria-labelledby="topnav"><a href="#" aria-label="Menu" class="top-nav-link js-drawer-toggle icon-ui-drag-horizontal" data-drawer="left">Menu</a></nav><header class="tablet-show top-nav-flex-title"><a href="/" class="top-nav-link">ArcGIS <span class="phone-hide">for Developers</span></a></header><nav class="top-nav-flex-list text-right top-nav-animation" role="navigation" aria-labelledby="usernav"><developers-user-navigation class="right"></developers-user-navigation><span class="global-divider global-divider-left global-divider-right right" aria-role="presentation"></span><developers-search class="flex-vertical-center right"></developers-search></nav></div></div></div></header></developers-top-navigation><header class="sub-nav sub-nav-purple"><div class="grid-container"><nav class="breadcrumbs breadcrumbs-white clearfix padding-leader-1"><a href="/web-api/" class="crumb">ArcGIS Web API</a> <a href="../.." class="crumb">JavaScript API</a> <a href="../.." class="crumb">4.3</a> <a href="../../guide/index.html" class="crumb">Guide</a></nav><h1 class="sub-nav-title text-white leader-1">ArcGIS API for JavaScript</h1><nav class="sub-nav-list leader-0 tablet-hide"><a class="sub-nav-link" href="../../index.html">Home</a> <a class="sub-nav-link is-active" href="../../guide/index.html">Guide</a> <a class="sub-nav-link" href="../../api-reference/index.html">API Reference</a> <a class="sub-nav-link" href="../../sample-code/index.html">Sample Code</a> <a class="sub-nav-link sub-nav-link-external icon-ui-link-external" href="https://geonet.esri.com/community/developers/web-developers/arcgis-api-for-javascript">Forum</a></nav><select class="select-full trailer-half tablet-show js-select-nav"><option value="../../index.html">Home</option><option selected="true" value="../../guide/index.html">Guide</option><option value="../../api-reference/index.html">API Reference</option><option value="../../sample-code/index.html">Sample Code</option><option value="https://geonet.esri.com/community/developers/web-developers/arcgis-api-for-javascript">Forum</option></select></div></header><div id="skip-to-content"><div class="grid-container leader-1"><div class="column-6 trailer-2 tablet-hide"><aside class="accordion side-nav column-6 js-accordion guide"><div class="accordion-section"><h4 class="accordion-title">Get Started</h4><nav class="accordion-content"><a href="../../guide/index.html" class="side-nav-link">Overview</a></nav><nav class="accordion-content"><a href="../../guide/release-notes/index.html" class="side-nav-link">Release notes</a></nav><nav class="accordion-content"><a href="../../guide/system-requirements/index.html" class="side-nav-link">System requirements</a></nav><nav class="accordion-content"><a href="../../guide/faq/index.html" class="side-nav-link">FAQ</a></nav></div><div class="accordion-section is-active"><h4 class="accordion-title">Working with the API</h4><nav class="accordion-content"><a href="../../guide/discover/index.html" class="side-nav-link">Discover 4.x</a></nav><nav class="accordion-content"><a href="../../guide/working-with-props/index.html" class="side-nav-link">Properties</a></nav><nav class="accordion-content"><a href="../../guide/working-with-promises/index.html" class="side-nav-link">Promises</a></nav><nav class="accordion-content"><a href="../../guide/autocasting/index.html" class="side-nav-link">Autocasting</a></nav><nav class="accordion-content"><a href="../../guide/loadable/index.html" class="side-nav-link">Loadable</a></nav><nav class="accordion-content"><a href="../../guide/arcade/index.html" class="side-nav-link">Arcade</a></nav><nav class="accordion-content"><a href="../../guide/using-fromjson/index.html" class="side-nav-link">Using fromJSON()</a></nav><nav class="accordion-content"><a href="../../guide/localization/index.html" class="side-nav-link">Localization</a></nav><nav class="accordion-content"><a href="../../guide/get-api/index.html" class="side-nav-link">Get the API</a></nav><nav class="accordion-content"><a href="../../guide/view-ui/index.html" class="side-nav-link">View UI</a></nav><nav class="accordion-content"><a href="../../guide/styling/index.html" class="side-nav-link">Styling</a></nav><nav class="accordion-content"><a href="../../guide/get-started-visualization/index.html" class="side-nav-link">Visualization Overview</a></nav><nav class="accordion-content"><a href="../../guide/creating-visualizations-manually/index.html" class="side-nav-link">Creating visualizations manually</a></nav><nav class="accordion-content"><a href="../../guide/visualizing-points-3d/index.html" class="side-nav-link">Visualizing points with 3D symbols</a></nav><nav class="accordion-content"><a href="../../guide/esri-web-style-symbols/index.html" class="side-nav-link">Esri Web Style Symbols</a></nav><nav class="accordion-content"><a href="../../guide/get-started-workflows/index.html" class="side-nav-link">Get started with workflows</a></nav><nav class="accordion-content"><a href="../../guide/typescript-setup/index.html" class="side-nav-link">TypeScript Setup</a></nav><nav class="accordion-content"><a href="../../guide/implementing-accessor/index.html" class="side-nav-link">Implementing Accessor</a></nav><nav class="accordion-content"><a href="../../guide/custom-widget/index.html" class="side-nav-link is-active">Widget Development</a></nav><nav class="accordion-content"><a href="../../guide/esri-icon-font/index.html" class="side-nav-link">Esri Icon Font</a></nav><nav class="accordion-content"><a href="../../guide/using-bower/index.html" class="side-nav-link">Using Bower</a></nav><nav class="accordion-content"><a href="../../guide/using-frameworks/index.html" class="side-nav-link">Using Frameworks</a></nav><nav class="accordion-content"><a href="../../guide/using-phonegap/index.html" class="side-nav-link">Using PhoneGap</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Migrating from 3.x</h4><nav class="accordion-content"><a href="../../guide/choose-version/index.html" class="side-nav-link">Choose a version</a></nav><nav class="accordion-content"><a href="../../guide/migrating/index.html" class="side-nav-link">Migrating from 3.x to 4.3</a></nav><nav class="accordion-content"><a href="../../guide/functionality-matrix/index.html" class="side-nav-link">3.x to 4.x functionality matrix</a></nav></div></aside><div class="column-6 js-sticky scroll-show tablet-hide" data-top="46"><a href="#" class="btn btn-fill btn-clear">Back to Top</a></div></div><div class="column-24 trailer-1 tablet-show"><select class="select-full trailer-half js-select-nav"><optgroup label="Get Started"><option value="../../guide/index.html">Overview</option><option value="../../guide/release-notes/index.html">Release notes</option><option value="../../guide/system-requirements/index.html">System requirements</option><option value="../../guide/faq/index.html">FAQ</option></optgroup><optgroup label="Working with the API"><option value="../../guide/discover/index.html">Discover 4.x</option><option value="../../guide/working-with-props/index.html">Properties</option><option value="../../guide/working-with-promises/index.html">Promises</option><option value="../../guide/autocasting/index.html">Autocasting</option><option value="../../guide/loadable/index.html">Loadable</option><option value="../../guide/arcade/index.html">Arcade</option><option value="../../guide/using-fromjson/index.html">Using fromJSON()</option><option value="../../guide/localization/index.html">Localization</option><option value="../../guide/get-api/index.html">Get the API</option><option value="../../guide/view-ui/index.html">View UI</option><option value="../../guide/styling/index.html">Styling</option><option value="../../guide/get-started-visualization/index.html">Visualization Overview</option><option value="../../guide/creating-visualizations-manually/index.html">Creating visualizations manually</option><option value="../../guide/visualizing-points-3d/index.html">Visualizing points with 3D symbols</option><option value="../../guide/esri-web-style-symbols/index.html">Esri Web Style Symbols</option><option value="../../guide/get-started-workflows/index.html">Get started with workflows</option><option value="../../guide/typescript-setup/index.html">TypeScript Setup</option><option value="../../guide/implementing-accessor/index.html">Implementing Accessor</option><option value="../../guide/custom-widget/index.html" selected="true">Widget Development</option><option value="../../guide/esri-icon-font/index.html">Esri Icon Font</option><option value="../../guide/using-bower/index.html">Using Bower</option><option value="../../guide/using-frameworks/index.html">Using Frameworks</option><option value="../../guide/using-phonegap/index.html">Using PhoneGap</option></optgroup><optgroup label="Migrating from 3.x"><option value="../../guide/choose-version/index.html">Choose a version</option><option value="../../guide/migrating/index.html">Migrating from 3.x to 4.3</option><option value="../../guide/functionality-matrix/index.html">3.x to 4.x functionality matrix</option></optgroup></select></div><main class="column-17 tablet-column-12 pre-1 content-face"><h1 id="widget-development">Widget development</h1><p>Widgets are reusable user-interface components and are key to providing a rich user experience. The ArcGIS for JavaScript API provides a set of ready-to-use widgets. Beginning with version 4.2, it also provides a foundation for you to create custom widgets.</p><p>This guide topic discusses the basic fundamentals of widget development. It does so by discussing specific areas that you should focus on when transitioning to this new framework. The foundation for creating custom widgets remains consistent, regardless of the widget's intended functionality. The <a href="#additional-information">Additional information</a> section has extra resources to help get you started.</p><div class="esri-md panel trailer-1"><p>Please note that this framework is not intended to be a direct replacement for all Dijits. One such example would be when working with <a href="http://dgrid.io/">dgrid</a>. Here, you would still need to use <a href="http://dojotoolkit.org/reference-guide/dijit/">Dijit</a>.</p></div><p>This topic discusses:</p><ul><li><a href="#development-requirements">Development requirements</a></li><li><a href="#widget-life-cycle">Widget life cycle</a></li><li><a href="#typescript-decorators">TypeScript decorators</a></li><li><a href="#widget-implementation">Widget implementation</a></li><li><a href="#completed-code">Completed code</a></li><li><a href="#widget-rendering">Widget rendering</a></li><li><a href="#additional-information">Additional information</a></li></ul><div class="esri-md panel trailer-1"><p>This guide is intended to provide a high-level overview of the widget framework. Please refer to the <a href="../../sample-code/widgets-custom-widget/index.html">Create custom widget</a> and <a href="../../sample-code/widgets-custom-recenter/index.html">Recenter widget</a> samples for examples of how to create your own custom widget.</p></div><h2 id="development-requirements">Development requirements</h2><p>Prior to creating your own custom widgets, you will need to make certain you have the needed requirements. These will vary based on your widget requirements. The ones listed below are a bare minimum for widget development.</p><h4 id="typescript">TypeScript</h4><p><a href="https://www.typescriptlang.org">TypeScript</a> is a superset of JavaScript. Once written, it can be compiled to plain JavaScript. The suggested approach to widget development is through TypeScript. There is a multitude of great <a href="https://www.sitepen.com/blog/2013/12/31/definitive-guide-to-typescript">online resources</a> that go into detail on what TypeScript is, why it is used, and how you use it. Getting yourself familiarized with these basics will make the widget development process much easier to navigate.</p><h4 id="jsx">JSX</h4><p><a href="https://www.typescriptlang.org/docs/handbook/jsx.html">JSX</a> is a JavaScript extension syntax that allows us to describe our widget UI's similarly to HTML. It looks similar to HTML in that it can be used inline with JavaScript.</p><h4 id="familiarity-with-esricoreaccessor">Familiarity with esri/core/Accessor</h4><p><a href="../../api-reference/esri-core-Accessor.html">Accessor</a> is one of the core features of 4.x and is the base for all classes, including widgets. Please see the <a href="../../guide/implementing-accessor/index.html">Implementing Accessor</a> topic for additional details on how this works and its usage patterns.</p><h2 id="widget-life-cycle">Widget life cycle</h2><p>Before you begin developing, it's important to have a general understanding of a widget's life cycle. Regardless of the type of widget, the general concepts specific to its life cycle remain the same. These are:</p><ol><li><strong>constructor (params)</strong> - This is where the widget is initially created while setting any needed properties. Since the widget is derived from <a href="../../api-reference/esri-core-Accessor.html">Accessor</a>, you get access to getting, setting, and watching properties as discussed in the <a href="../working-with-props/index.html">Working with properties</a> topic.</li><li><strong>postInitialize()</strong> - This <a href="../../api-reference/esri-widgets-Widget.html#postInitialize">method</a> is called after the widget is created but before the UI is rendered.</li><li><strong>render()</strong> - This is the only <a href="../../api-reference/esri-widgets-Widget.html#render">required method</a> and is used to render the UI.</li><li><strong>destroy()</strong> - <a href="../../api-reference/esri-widgets-Widget.html#destroy">Method</a> to release the widget instance.</li></ol><h2 id="typescript-decorators">TypeScript decorators</h2><p>Widget development takes advantage of <a href="https://www.typescriptlang.org/docs/handbook/decorators.html">TypeScript decorators</a>. This allows us to define and modify common behavior in existing properties, methods, and constructors at design time. We discuss the most common types of widget decorators below.</p><h4 id="used-in-conjunction-with"><code>@subclass</code> (used in conjunction with <code>declared</code>)</h4><p>These decorators can be thought of as the underlying glue that is used to create 4.x classes.</p><p>The snippet below imports and extends the <code>esri/widgets/Widget</code> class and defines the UI in the <a href="../../api-reference/esri-widgets-Widget.html#render">render</a> method. <a href="https://www.typescriptlang.org/docs/handbook/jsx.html">JSX</a> is used to define the UI. In this simple scenario, a <code>div</code> element with <code>John Smith</code> as its content is created.</p><pre><code class="ts">import Widget = require("esri/widgets/Widget");

@subclass("esri.widgets.HelloWorld")
class HelloWorld extends declared(Widget) {
  render() {
    return (
      &lt;div&gt;John Smith&lt;/div&gt;
    );
  }
}
</code></pre><h4 id=""><code>@property()</code></h4><p>This <a href="../../api-reference/esri-core-accessorSupport-decorators.html#property">decorator</a> is used to define an <a href="../../api-reference/esri-core-Accessor.html">Accessor</a> property. Any property defined with this decorator can now be <code>get</code> and <code>set</code>. In addition, you can <code>watch</code> for any property changes.</p><pre><code class="ts"><span class="hljs-meta">@property</span>()
name: <span class="hljs-built_in">string</span>;
</code></pre><h4 id="-2"><code>@renderable()</code></h4><p>This <a href="../../api-reference/esri-widgets-support-widget.html#renderable">decorator</a> is used to schedule the render whenever a property is modified, the rendering is automatically scheduled and updated.</p><pre><code class="ts"><span class="hljs-meta">@renderable</span>()
name: <span class="hljs-built_in">string</span>;
</code></pre><div class="esri-md panel trailer-1"><p>Usually, when implementing class properties, you will use both <code>@property()</code> and <code>@renderable()</code>. For example,</p><pre><code class="ts"><span class="hljs-meta">@property</span>()
<span class="hljs-meta">@renderable</span>()
name: <span class="hljs-built_in">string</span>;
</code></pre></div><h4 id="-3"><code>@aliasOf()</code></h4><p>This <a href="../../api-reference/esri-core-accessorSupport-decorators.html#aliasOf">decorator</a> allows us to define a property alias. This can help keep code clean so as to not duplicate existing properties, (e.g. already implemented within a <code>ViewModel</code>). <em>The full sample provided above does not use this decorator. If there was an associated <code>HelloWorldViewModel</code> associated with this file, its properties could be accessed directly via this approach therefore avoiding code duplication.</em></p><pre><code class="ts"><span class="hljs-meta">@aliasOf</span>(<span class="hljs-string">"viewModel.name"</span>)
name: <span class="hljs-built_in">string</span>;
</code></pre><h2 id="widget-implementation">Widget implementation</h2><p>The following steps provide a very high-level overview of the steps needed when implementing your own custom widget:</p><ul><li><a href="#extend-the-widget">Extend the widget</a></li><li><a href="#implement-properties-and-methods">Implement properties and methods</a></li><li><a href="#render-the-widget">Render the widget</a></li><li><a href="#export-module">Export module</a></li></ul><h5 id="extend-the-widget">Extend the widget</h5><p>At the very basic level, you will start by creating a widget by extending from the base <a href="../../api-reference/esri-widgets-Widget.html">Widget</a> class.</p><pre><code class="ts"><span class="hljs-comment">// Import used to extend off of base Widget class</span>
<span class="hljs-keyword">import</span> Widget = <span class="hljs-built_in">require</span>(<span class="hljs-string">"esri/widgets/Widget"</span>);

<span class="hljs-meta">@subclass</span>(<span class="hljs-string">"esri.widgets.HelloWorld"</span>)
<span class="hljs-keyword">class</span> HelloWorld extends declared(Widget) {

}
</code></pre><h5 id="implement-properties-and-methods">Implement properties and methods</h5><p>Next, you can implement any properties and/or methods specific for that widget. This snippet shows how to take advantage of <a href="#typescript-decorators">decorators</a> for these properties.</p><pre><code class="ts"><span class="hljs-comment">// Create 'name' property</span>
<span class="hljs-meta">@property</span>()
<span class="hljs-meta">@renderable</span>()
name: <span class="hljs-built_in">string</span> = <span class="hljs-string">"John Smith"</span>;

<span class="hljs-comment">// Create 'emphasized' property</span>
<span class="hljs-meta">@property</span>()
<span class="hljs-meta">@renderable</span>()
emphasized: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;

<span class="hljs-comment">// Create private _onNameUpdate method</span>
<span class="hljs-keyword">private</span> _onNameUpdate(): <span class="hljs-built_in">string</span> { <span class="hljs-keyword">return</span> <span class="hljs-string">'${this.name}'</span>;}
</code></pre><p>By default, functions referenced in your elements will have <code>this</code> set to the actual element. Optionally, you can use the <a href="http://maquettejs.org/docs/typedoc/interfaces/_maquette_.vnodeproperties.html#bind">bind</a> attribute to update <code>this</code>. The following binds the <code>_onNameUpdate</code> callback method which is used when listening for <code>name</code> property updates. This is displayed in the <a href="../../api-reference/esri-widgets-Widget.html#postInitialize">postInitialize</a> method below.</p><pre><code class="ts"><span class="hljs-keyword">class</span> HelloWorld extends declared(Widget) {

  <span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">super</span>();
    <span class="hljs-keyword">this</span>._onNameUpdate = <span class="hljs-keyword">this</span>._onNameUpdate.bind(<span class="hljs-keyword">this</span>);
  }

}
</code></pre><p>The <a href="../../api-reference/esri-widgets-Widget.html#postInitialize">postInitialize</a> method is called when the widget's properties are ready, but before it is rendered. In the snippet below we are watching for the <code>name</code> property. Once updated, it calls the <code>_onNameUpdate</code> callback method. The <a href="../../api-reference/esri-core-watchUtils.html#init">watchUtils.init()</a> call returns a <a href="../../api-reference/esri-core-Accessor.html#WatchHandle">WatchHandle</a> object which is then passed into <a href="../../api-reference/esri-widgets-Widget.html#own">own()</a>. This helps tidy up any resources once the widget is destroyed.</p><pre><code class="ts">  postInitialize() {
    <span class="hljs-keyword">const</span> handle = watchUtils.init(<span class="hljs-keyword">this</span>, <span class="hljs-string">"name"</span>, <span class="hljs-keyword">this</span>._onNameUpdate);

    <span class="hljs-comment">// Helper used for cleaning up resources once the widget is destroyed</span>
    <span class="hljs-keyword">this</span>.own(handle);
  }
</code></pre><h5 id="render-the-widget">Render the widget</h5><p>After the properties are implemented, the widget's UI is rendered using <a href="https://www.typescriptlang.org/docs/handbook/jsx.html">JSX</a>. This is handled in the widget's <a href="../../api-reference/esri-widgets-Widget.html#render">render</a> method, which is the only required method needed for widget implementation.</p><div class="esri-md panel trailer-1"><p>See <a href="#widget-rendering">Widget rendering</a> below for additional information specific to this.</p></div><p>The base CSS is set via the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-class">class</a> attribute. Note that the base CSS should not change inside the <a href="../../api-reference/esri-widgets-Widget.html#render">render</a> method.</p><pre><code class="ts">render() {
  const classes = { "hello-world-emphasized": this.emphasized };
  return (
    &lt;div class = "hello-world" join={classes}&gt;
      {this._onNameUpdate()}
    &lt;/div&gt;
  );
}
</code></pre><div class="esri-md panel trailer-1"><p>If needing a more dynamic approach, use <a href="http://maquettejs.org/docs/typedoc/interfaces/_maquette_.vnodeproperties.html#classes">classes</a>. This expects an object where the key represents the CSS class to toggle. The class is added if its value is true and removed if false.</p></div><p>Lastly, calling <a href="../../api-reference/esri-widgets-Widget.html#destroy">destroy</a> on the widget will dispose the widget and free up all resources registered with the <code>own()</code> method referenced in <a href="../../api-reference/esri-widgets-Widget.html#postInitialize">postInitialize</a> below.</p><pre><code class="ts">postInitialize() {
  <span class="hljs-keyword">const</span> handle = watchUtils.init(<span class="hljs-keyword">this</span>, <span class="hljs-string">"name"</span>, <span class="hljs-keyword">this</span>._onNameUpdate);

  <span class="hljs-comment">// Helper used for cleaning up resources once the widget is destroyed</span>
  <span class="hljs-keyword">this</span>.own(handle);
  }
</code></pre><h5 id="export-module">Export module</h5><p>At the very end of the code page, add a line to <a href="https://blog.oio.de/2014/01/31/an-introduction-to-typescript-module-system/#ConsumeExternalModules">export</a> the object.</p><pre><code class="ts"><span class="hljs-keyword">export</span> = HelloWorld;
</code></pre><h3 id="completed-code">Completed code</h3><p>The <a href="../../sample-code/widgets-custom-widget/index.html">Create custom widget</a> sample shows the <em>.tsx</em> file in its entirety. This TypeScript file uses this extension to indicate that the class uses <a href="https://www.typescriptlang.org/docs/handbook/jsx.html">JSX</a>, e.g. <code>.ts + .jsx = .tsx</code>.</p><h2 id="widget-rendering">Widget rendering</h2><p>The properties and methods listed below can be used for rendering the widget:</p><ul><li><a href="http://maquettejs.org/docs/typedoc/interfaces/_maquette_.vnodeproperties.html#classes">classes:</a> This property allows CSS classes to be added and removed dynamically.</li><li><a href="http://maquettejs.org/docs/typedoc/interfaces/_maquette_.vnodeproperties.html#styles">styles:</a> Allows styles to be changed dynamically.</li><li><a href="http://maquettejs.org/docs/typedoc/interfaces/_maquette_.vnodeproperties.html#aftercreate">afterCreate:</a> This callback method executes after the node is added to the DOM. Any child nodes and properties have already been applied. Use this method within <a href="../../api-reference/esri-widgets-Widget.html#render">render</a> to access the real DOM node. It is also possible to use per element.</li><li><a href="http://maquettejs.org/docs/typedoc/interfaces/_maquette_.vnodeproperties.html#afterupdate">afterUpdate:</a> This callback method executes every time the node is updated.</li><li><a href="http://maquettejs.org/docs/typedoc/interfaces/_maquette_.vnodeproperties.html#bind">bind:</a> This method invokes event handlers to <code>this</code> and its respective value.</li><li><a href="http://maquettejs.org/docs/typedoc/interfaces/_maquette_.vnodeproperties.html#key">key:</a> This is used to uniquely identify a DOM node among its siblings. This is important if you have sibling elements with the same selector and the elements are added/removed dynamically.</li></ul><p></p><div class="trailer-2 js-tab-group"><nav class="tab-nav"><a class="tab-title is-active js-tab">classes</a> <a class="tab-title js-tab">styles</a> <a class="tab-title js-tab">afterCreate()</a> <a class="tab-title js-tab">afterupdate()</a> <a class="tab-title js-tab">bind()</a> <a class="tab-title js-tab">key</a></nav><section class="tab-contents"><article class="tab-section is-active js-tab-section"><pre><code>
render() {
  <span class="hljs-keyword">const</span> dynamicClass = {
    [CSS.bold]: <span class="hljs-keyword">this</span>.isBold,
    [CSS.italic]: <span class="hljs-keyword">this</span>.isItalic
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">{CSS.base}</span> <span class="hljs-attr">classes</span>=<span class="hljs-string">{dynamicClass}</span>&gt;</span>Hello World!<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre></article><article class="tab-section js-tab-section"><pre><code>
render() {
  <span class="hljs-keyword">const</span> dynamicStyles = {
    background-color: <span class="hljs-keyword">this</span>.__hasBackgroundColor ? <span class="hljs-string">"chartreuse"</span> : <span class="hljs-string">""</span>
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">styles</span>=<span class="hljs-string">{dynamicStyles}</span>&gt;</span>Hello World!<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre></article><article class="tab-section js-tab-section"><pre><code>
<span class="hljs-comment">// Access real DOM node within render()</span>

render() {
  <span class="hljs-keyword">return</span> (
    &lt;div afterCreate={<span class="hljs-keyword">this</span>._doSomethingWithRootNode}&gt;Hello World!&lt;/div&gt;
  );
}

<span class="hljs-comment">// Can also be used per element</span>

render() {
  <span class="hljs-keyword">return</span> (
    &lt;div afterCreate={<span class="hljs-keyword">this</span>._doSomethingWithRootNode}&gt;
      &lt;span afterCreate={<span class="hljs-keyword">this</span>._doSomethingWithChildNode}&gt;Hello World!&lt;span&gt;
    &lt;/div&gt;
  );
}</code></pre></article><article class="tab-section js-tab-section"><pre><code>
private _afterUpdate(element: Element){
  <span class="hljs-built_in">console</span>.log(element);
}

render() {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">afterUpdate</span>=<span class="hljs-string">{this._afterUpdate}</span>&gt;</span>Hello world!<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre></article><article class="tab-section js-tab-section"><pre><code>
<span class="hljs-keyword">private</span> _whatIsThis(): void {
  console.log(<span class="hljs-string">'this === widget: ${this}'</span>);
}

render() {
  <span class="hljs-keyword">return</span> (
    &lt;div bind={<span class="hljs-keyword">this</span>} onclick={<span class="hljs-keyword">this</span>._whatIsThis}&gt;<span class="hljs-string">'this'</span> <span class="hljs-keyword">is</span> the widget instance&lt;/div&gt;
  );
}</code></pre></article><article class="tab-section js-tab-section"><pre><code>
<span class="hljs-comment">// Key is specified as 'string's in sample below but can also be a number or object.</span>

render() {
  <span class="hljs-keyword">const</span> top = <span class="hljs-keyword">this</span>.hasTop ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">{CSS.item}</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"top"</span>&gt;</span>Top<span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span></span> : <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">const</span> middle = <span class="hljs-keyword">this</span>.hasMiddle ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">{CSS.item}</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"middle"</span>&gt;</span>Middle<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span> : <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">const</span> bottom = <span class="hljs-keyword">this</span>.hasBottom ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">{CSS.item}</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"bottom"</span>&gt;</span>Bottom<span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span></span> : <span class="hljs-literal">null</span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ol</span>&gt;</span>
      {top}
      {middle}
      {bottom}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span></span>
  );
}</code></pre></article></section></div><p></p><h2 id="additional-information">Additional information</h2><p>Please refer to these additional links for further information:</p><ul><li><a href="../../sample-code/widgets-custom-widget/index.html">Create custom widget</a></li><li><a href="../../sample-code/widgets-custom-recenter/index.html">Recenter widget</a></li><li><a href="../../guide/typescript-setup/index.html">TypeScript Setup</a></li><li><a href="../../api-reference/esri-core-Accessor.html">Accessor</a> class</li><li><a href="../../guide/working-with-props/index.html">Guide - Working with properties</a></li><li><a href="../../guide/implementing-accessor/index.html">Implementing Accessor</a></li><li><a href="../../sample-code/widgets-custom-recenter/index.html">Recenter</a> sample</li><li><a href="../../guide/styling/index.html">Styling</a></li><li><a href="https://www.typescriptlang.org">TypeScript</a> reference</li><li><a href="https://www.typescriptlang.org/docs/handbook/jsx.html">JSX</a> reference</li><li><a href="../../guide/migrating/index.html#properties">Migrating from 3.x to 4.3</a></li></ul></main></div><div class="footnote feedback right trailer-1"><a class="icon-ui-contact js-feedback" href="mailto:js_feedback@esri.com?subject=Feedback%20on%204.3%20-%20guide:%20Widget%20development&body=Hello,%0A%0AI%20was%20reading%20the%20ArcGIS%20API%20for%20JavaScript%20version%204.3%20documentation%20and%20have%20some%20feedback.%0A%0ADocumentation%20details:%0APage%20title:%20%7BREPLACE_TITLE%7D%0APage%20URL:%20%7BREPLACE_URL%7D%0A%0A">Feedback on this topic?</a></div></div></div><footer class="footer leader- link-dark-gray" role="contentinfo"><div class="grid-container"><nav class="column-6"><h6>ArcGIS for Developers</h6><ul class="list-plain"><li><a href="/">Home</a></li><li><a href="/features/">Features</a></li><li><a href="/documentation/">Documentation</a></li><li><a href="/support/">Support</a></li><li><a href="/pricing/">Pricing</a></li><li><a href="/startups/">Startups</a></li><li><a href="https://blogs.esri.com/esri/arcgis/category/developer/">Blog</a></li></ul></nav><nav class="column-6"><h6>ArcGIS Platform</h6><ul class="list-plain"><li><a href="http://arcgis.com">ArcGIS Online</a></li><li><a href="http://desktop.arcgis.com">ArcGIS Desktop</a></li><li><a href="http://server.arcgis.com">ArcGIS Enterprise</a></li><li><a href="http://developers.arcgis.com">ArcGIS for Developers</a></li><li><a href="http://solutions.arcgis.com">ArcGIS Solutions</a></li><li><a href="http://marketplace.arcgis.com">ArcGIS Marketplace</a></li></ul></nav><nav class="column-6"><h6>About Esri</h6><ul class="list-plain"><li><a href="http://www.esri.com/about-esri/">About Us</a></li><li><a href="http://www.esri.com/careers/">Careers</a></li><li><a href="https://blogs.esri.com/esri/esri-insider/">Insiders Blog</a></li><li><a href="http://www.esri.com/events/user-conference/index.html">User Conference</a></li><li><a href="http://www.esri.com/events/devsummit/index.html">Developer Summit</a></li></ul></nav><nav class="column-6"><a class="esri-logo" href="http://esri.com" aria-label="Esri Home"></a><div class="footer-social-nav leader-1"><a class="icon-social-twitter" aria-label="Esri on Twitter" href="https://twitter.com/Esri/"></a> <a class="icon-social-facebook" aria-label="Esri on Facebook" href="https://www.facebook.com/esrigis/"></a> <a class="icon-social-github" aria-label="Esri on GitHub" href="http://esri.github.com/"></a> <a class="icon-social-contact" aria-label="Contact Esri" href="http://www.esri.com/about-esri/contact/"></a></div></nav><div class="column-24 leader-1"><p><small><a href="http://www.esri.com/legal/copyright-trademarks">Copyright © 2017 Esri</a>. All rights reserved. | <a href="http://www.esri.com/legal/privacy">Privacy</a> | <a href="http://www.esri.com/legal/software-license">Terms of use</a> | <a href="/terms/">Plain English</a> | <a href="/terms/faq/">FAQ</a></small></p></div></div></footer><script></script><script src="/assets/js/config.js"></script><script src="../../assets/js/config.js"></script><script src="../../assets/js/preparse.js"></script><script src="../../assets/js/developers-components/sharedComponents.js"></script><script src="../../assets/js/calcite-web.js"></script><script src="../../assets/js/calcite-web-extend.js"></script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NJGGV5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJGGV5');</script></body></html>