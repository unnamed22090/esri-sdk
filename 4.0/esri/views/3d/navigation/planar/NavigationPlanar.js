// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0/esri/copyright.txt for details.
//>>built
define("../Navigation ./ConstraintsPlanar ./AnimationPlanar ./actions/PanPlanar ./actions/RotatePlanar ./actions/ZoomPlanar ../../lib/glMatrix".split(" "),function(f,n,p,q,r,s,t){var b=t.vec3d,g=b.create(),h=b.create(),k=b.create(),c=b.create();return f.createSubclass([n,p],{declaredClass:"esri.views.3d.navigation.planar.NavigationPlanar",initialize:function(){this.pan=new q(this);this.zoom=new s(this);this.rotate=new r(this)},fixTargetUpVector:function(){var l=this.renderCoordsHelper.worldUp,d=this.cameras.target;
b.direction(d.center,d.eye,c);var a=b.dot(c,l);0.9999<Math.abs(a)||(b.scale(c,a,c),b.subtract(l,c,d.up),b.normalize(d.up))},setPoiAuto:function(c,d){var a=this.picker.pickAlongRay(this.cameras.target.eye,this.cameras.target.center,null,c);if(a.getMinResult().getIntersectionPoint(g)&&a.getMaxResult().getIntersectionPoint(h)){var e=5/this.renderUnitInMeters,f=a.getMinResult().dist-e,e=a.getMaxResult().dist+e,m=b.dist(this.cameras.target.eye,this.cameras.target.center);if(m<=f||m>=e){if(a.getMinResult().object){a.getMaxResult().dist=
void 0;a.intersectObject(a.getMinResult().object);if(void 0===a.getMaxResult().dist){console.error("[NavigationPlanar.setPoiAuto] Did not obtain maximum intersection distance");return}a.getMaxResult().getIntersectionPoint(h);b.lerp(g,h,0.5,k)}else b.set(g,k);this.setCameraFromEyeAndCenter(this.cameras.target.eye,k,{animate:!1})}}}})});