// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0/esri/copyright.txt for details.
//>>built
define("../Navigation ./ConstraintsSpherical ./AnimationSpherical ./actions/PanSpherical ./actions/ZoomSpherical ./actions/RotateSpherical ../../lib/glMatrix".split(" "),function(p,q,r,s,t,u,l){var b=l.vec3d,d=l.mat4d,m=b.create(),n=b.create(),g=d.create();return p.createSubclass([q,r],{declaredClass:"esri.views.3d.navigation.spherical.NavigationSpherical",initialize:function(){this.pan=new s(this);this.zoom=new t(this);this.rotate=new u(this)},fixTargetUpVector:function(){this.cameras.target.computeUpOnSphere()},
setPoiAuto:function(a,c){var e=this.picker.pickAlongRay(this.cameras.target.eye,this.cameras.target.center,null,a);this.picker.pickedIntersectionPoint(e,m)&&(this.setCameraFromEyeAndCenter(this.cameras.target.eye,m),b.set(this.cameras.target.center,this.cameras.current.center),c&&this.setCurrentToTarget())},rotateCameraWithPointsOnSphere:function(a,c,e,k,f){var h;null==f&&(f=b.length(a));1E-4<=Math.abs(b.length(a)-f)&&(console.error("[NavigationSpherical.rotateCameraWithPointsOnSphere]: invalid radius for source point (got "+
f+", but expected "+b.length(a)+", "+a+")"),h=b.length(a));1E-4<=Math.abs(b.length(c)-f)&&(console.error("[NavigationSpherical.rotateCameraWithPointsOnSphere: invalid radius for target point (got "+f+", but expected "+b.length(c)+")"),void 0===h&&(h=b.length(c)));void 0!==h&&(f=h);a=this.rotationFromPointsOnSphere(a,c,f,n);d.identity(g);d.rotate(g,a,n);d.multiplyVec3(g,e.eye,k.eye);d.multiplyVec3(g,e.center,k.center);d.multiplyVec3(g,e.up,k.up)},rotationFromPointsOnSphere:function(a,c,e,d){b.cross(a,
c,d);return-Math.acos(1-b.dist2(a,c)/(2*e*e))}})});