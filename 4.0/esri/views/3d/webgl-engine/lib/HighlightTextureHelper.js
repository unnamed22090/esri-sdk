// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0/esri/copyright.txt for details.
//>>built
define(["require","exports","./GLFBO","./Util"],function(e,f,d,c){return function(){function b(a){this.gl=a;this.height=this.width=this.viewportToRestore=this.fbo2=this.fbo=null}b.prototype.setEnableState=function(a){a!==this.getEnableState()&&(a?this.enable():this.disable())};b.prototype.getEnableState=function(){return null!==this.fbo};b.prototype.getHighlightFBO=function(){return this.fbo};b.prototype.getBlurFBO=function(){return this.fbo2};b.prototype.enable=function(){c.assert(!this.getEnableState());
this.fbo=new d(this.gl.RGBA,this.gl.UNSIGNED_BYTE,!0,this.gl.NEAREST,this.gl,null)};b.prototype.disable=function(){c.assert(this.getEnableState());this.fbo.dispose();this.fbo=null};b.prototype.setupFBOs=function(a){c.assert(this.getEnableState());this.viewportToRestore=a=a.fullViewport;this.width=a[2];this.height=a[3];this.gl.viewport(0,0,this.width,this.height)};b.prototype.prepareHighlightPass=function(){c.assert(this.getEnableState());this.fbo.setSize(this.width,this.height);this.fbo.bind();this.gl.clearColor(0,
0,0,0);this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)};b.prototype.finish=function(a){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,a);this.gl.viewport(this.viewportToRestore[0],this.viewportToRestore[1],this.viewportToRestore[2],this.viewportToRestore[3])};return b}()});