// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0/esri/copyright.txt for details.
//>>built
define("./viewpointUtils ./ViewState ./math/vec2 ./math/mat2d ./math/common ../../core/Accessoire".split(" "),function(f,l,e,h,m,n){var d=n.createSubclass({classMetadata:{properties:{left:{},top:{},right:{},bottom:{}}},left:0,top:0,right:0,bottom:0});d.copy=function(a,b){a.left=b.left;a.top=b.top;a.right=b.right;a.bottom=b.bottom};return l.createSubclass({declaredClass:"esri.views.2d.PaddedViewState",classMetadata:{properties:{padding:{type:d,copy:d.copy},transform:{dependsOn:["padding"]},paddedScreenCenter:{dependsOn:["size",
"padding"],readOnly:!0,copy:e.copy},clipRect:{dependsOn:["worldScreenWidth","rotation","paddedScreenCenter","screenCenter"],readOnly:!0,copy:function(a,b){a.top=b.top;a.left=b.left;a.right=b.right;a.bottom=b.bottom}}}},getDefaults:function(){return{content:new l,padding:new d,size:e.fromValues(0,0)}},_clipRectGetter:function(){var a=e.create(),b=h.create();return function(c){var k=this.worldScreenWidth;if(!k)return null;var d=m.toRadian(this.rotation),g=Math.abs(Math.cos(d)),f=Math.abs(Math.sin(d)),
g=this.width*g+this.height*f;if(k>g)return null;e.copy(a,this.screenCenter);h.fromTranslation(b,a);h.rotate(b,b,d);e.negate(a,a);h.translate(b,b,a);e.transformMat2d(a,this.paddedScreenCenter,b);c||(c={});c.top=-Math.round(g);c.left=Math.round(a[0]-0.5*k);c.right=Math.round(a[0]+0.5*k);c.bottom=+Math.round(g);return c}}(),_padding:null,_paddingSetter:function(a){this._padding=a||new d;this._updateContent();return a},_size:null,_sizeSetter:function(a){this._size=a;this._updateContent();return a},_paddedScreenCenterGetter:function(a){var b=
this.content.size,c=this.padding;a||(a=e.create());e.scale(a,b,0.5);a[0]+=c.left;a[1]+=c.top;return a},viewpoint:null,_viewpointSetter:function(){var a;return function(b,c){a||(a=b.clone());this.content.viewpoint=b;f.addPadding(a,b,this._size,this._padding);return!c?f.addPadding(a.clone(),b,this._size,this._padding):f.addPadding(c,b,this._size,this._padding)}}(),_updateContent:function(){var a=e.create();return function(){var b=this._size,c=this._padding;if(b&&c){var d=this.content;e.set(a,c.left+
c.right,c.top+c.bottom);e.subtract(a,b,a);d.size=a;if(b=d.viewpoint)this.viewpoint=b}}}()})});