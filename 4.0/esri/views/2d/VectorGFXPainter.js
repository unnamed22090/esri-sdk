// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0/esri/copyright.txt for details.
//>>built
define(["../../core/declare","dojo/_base/lang","dojox/gfx"],function(f,g,h){return f(null,{constructor:function(a){g.mixin(this,a)},render:function(a){switch(a.type){case "vector-container":this.renderContainer(a);break;case "vector-group":this.renderGroup(a);break;case "vector":this.renderVector(a)}},renderContainer:function(a){var b=a.parent.surface,d=a._addBucket,c=a._removeBucket;a.surface||(a.surface=h.createSurface(b,this.view.width,this.view.height));if(d&&d.length){a=0;for(b=d.length;a<b;a++)this.render(d[a]);
d.length=0}if(c&&c.length){a=0;for(b=c.length;a<b;a++)c[a].surface&&(c[a].surface.destroy(),c[a].surface=null),this._transforms.remove(c[a]._uid);c.length=0}},renderGroup:function(a){var b=a.parent.surface,d=a.surface,c=a._addBucket,e=a._removeBucket;d||(b.createGroup(),a.surface=d);if(c&&c.length){a=0;for(b=c.length;a<b;a++)this.render(c[a]);c.length=0}if(e&&e.length){a=0;for(b=e.length;a<b;a++)e[a].surface&&(e[a].surface.destroy(),e[a].surface=null),this._transforms.remove(e[a]._uid);e.length=0}},
renderVector:function(a){var b=a.surface;this.isSurfaceValid(a)||(b&&(b.destroy(),a.surface=b=null),b||this.createVectorSurface(a));a._requestDrawFlag&&(a._requestDrawFlag=!1,this.udpateVectorSurface(a))},isSurfaceValid:function(a){return!a.surface?!1:!0},createVectorSurface:function(a){},udpateVectorSurface:function(a){}})});