// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0/esri/copyright.txt for details.
//>>built
define(["../../core/declare","../../core/Accessoire","./HandlerList","./HammerInput"],function(e,f,d,g){return e([f],{constructor:function(a){(a=a.surface||this.surface)?(this.inputManager=new g(a),this.handlers=new d({gestureManager:this})):console.error("GestureManager requires a surface dom element to work.")},view:null,surface:null,trackHover:!1,handlers:null,_handlersSetter:function(a,b){null==a?a=new d({gestureManager:this}):a.gestureManager=this;this._removeListeners(b);this._addListeners(a,
a);return a},_inputManager:null,on:function(a,b){var c=this.inputManager;return c&&c.on(a,b)},addGesture:function(a){var b=this.inputManager;if("input"===(a&&a.event))console.log("'input' is not a configurable gesture. listen to 'input' event with the 'on' function");else return(a=b.addGesture(a))?this:a},addHandler:function(a){this.handlers||(this.handlers=new d);this.handlers.add(a);this._addListeners(this.handlers,a);return this},removeHandler:function(a){if(this.handlers){this._removeListeners(this.handlers);
this.handlers.remove(a);for(a=this.handlers.first;a;)this._addListeners(this.handlers,a),a=this.handlers.next()}return this},removeGesture:function(a){return this.inputManager.removeGesture(a)},configureGesture:function(a,b){return this.inputManager.configureGesture(a,b)},_addListeners:function(a,b){var c=b.events,d=a.removers||[],e=this;c&&(c=c.map(function(b){return e.on(b,a.processEvent.bind(a))}),a.removers=d.concat(c))},_removeListeners:function(a){(a=a&&a.removers)&&a.forEach(function(a){a&&
a.remove()})}})});