// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0/esri/copyright.txt for details.
//>>built
define("../core/declare dojo/_base/lang ../core/lang ../core/screenUtils ../core/urlUtils ./MarkerSymbol".split(" "),function(l,e,g,c,m,n){var h={width:12,height:12,angle:0,xoffset:0,yoffset:0},f=l(n,{declaredClass:"esri.symbols.PictureMarkerSymbol",type:"picture-marker-symbol",classMetadata:{properties:{url:{dependsOn:["source"]}},reader:{exclude:["contentType","imageData","size","url","color"],add:["source"]}},getDefaults:function(){return e.mixin(this.inherited(arguments),h)},normalizeCtorArgs:function(b,
a,k){if(b&&"string"!==typeof b&&null==b.imageData)return b;var d={};b&&(d.url=b);null!=a&&(d.width=c.toPt(a));null!=k&&(d.height=c.toPt(k));return d},_urlGetter:function(){return this.source?this.source.url:void 0},_urlSetter:function(b){var a;b&&0===b.indexOf("data:")?(a=b.substring(5,b.indexOf(";")),this.source={url:b,contentType:a,imageData:b.substring(13+a.length)}):this.source={url:b};return b},_sourceReader:function(b,a){return a.imageData?{url:a.url,contentType:a.contentType,imageData:a.imageData}:
{url:a.url}},_heightReader:function(b,a){return a.size||b},_heightSetter:c.toPt,_widthReader:function(b,a){return a.size||b},_widthSetter:c.toPt,toJSON:function(){var b=this.source,a=this.url,c=b&&b.imageData,b=b&&b.contentType;if(e.isString(a)&&(0===a.indexOf("/")||0===a.indexOf("//")||0===a.indexOf("./")||0===a.indexOf("../")))a=m.getAbsoluteUrl(a);a=g.fixJson(e.mixin(this.inherited(arguments),{url:a,imageData:c,contentType:b,width:this.width,height:this.height}));delete a.color;delete a.size;return a},
clone:function(){return new f({angle:this.angle,height:this.height,source:g.clone(this.source),width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}});f.defaultProps=h;return f});