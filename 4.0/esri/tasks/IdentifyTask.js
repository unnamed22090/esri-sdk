// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0/esri/copyright.txt for details.
//>>built
define("../core/declare dojo/_base/lang ../request ../geometry/support/normalizeUtils ./Task ./support/IdentifyResult".split(" "),function(d,e,f,g,h,k){d=d(h,{declaredClass:"esri.tasks.IdentifyTask",url:null,gdbVersion:null,_parsedUrlGetter:function(a){var b=this.inherited(arguments);b.path+="/identify";return b},__msigns:[{n:"execute",c:1,a:[{i:0,p:["geometry"]}],e:2}],execute:function(a,b){var c=b.assembly,c=this._encode(e.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON(c&&c[0])));this.gdbVersion&&
(c.gdbVersion=this.gdbVersion);return f(this.parsedUrl.path,{query:c,callbackParamName:"callback"}).then(this._handleExecuteResponse)},_handleExecuteResponse:function(a){a=a.data;a.results=(a.results||[]).map(function(a){return k.fromJSON(a)});return a}});g._createWrappers(d);return d});