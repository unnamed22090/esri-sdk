// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0/esri/copyright.txt for details.
//>>built
define("../../core/Accessoire ../../core/declare ../../core/jsonDictionary ../../core/lang ../../geometry/support/jsonUtils ./SpatialRelationship dojo/_base/array dojo/_base/lang".split(" "),function(d,n,e,p,q,r,s,t){var g=e({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",
esriSpatialRelRelation:"relation"}),u=e({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),v=e({upperLeft:"upper-left",lowerLeft:"lower-left"});d=n(d,{declaredClass:"esri.tasks.support.Query",spatialRelationship:"intersects",text:null,where:"",geometry:null,geometryPrecision:null,groupByFieldsForStatistics:null,objectIds:null,returnGeometry:!1,returnDistinctValues:!1,
maxAllowableOffset:null,multipatchOption:null,num:null,start:null,orderByFields:null,outSpatialReference:null,outFields:null,outStatistics:null,timeExtent:null,relationParam:null,pixelSize:null,distance:null,units:"meters",resultOffset:null,resultRecordCount:null,quantizationParameters:null,toJSON:function(c){var a={text:this.text,where:this.where,returnGeometry:this.returnGeometry,spatialRel:g.toJSON(this.spatialRelationship),maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision,
returnZ:this.returnZ,returnM:this.returnM},b=c&&c.geometry||this.geometry,d=this.objectIds,e=this.outFields,f=this.outSpatialReference,h=this.groupByFieldsForStatistics,k=this.orderByFields,l=this.outStatistics;c=this.distance;b&&(a.geometry=b,a.geometryType=q.getJsonType(b),a.inSR=b.spatialReference.wkid||JSON.stringify(b.spatialReference.toJSON()));d&&(a.objectIds=d.join(","));e&&(a.outFields=e.join(","));this.returnDistinctValues&&(a.returnDistinctValues=!0);h&&(a.groupByFieldsForStatistics=h.join(","));
k&&(a.orderByFields=k.join(","));if(l){var m=[];s.forEach(l,function(a){m.push(a.toJSON())});a.outStatistics=JSON.stringify(m)}f?a.outSR=f.wkid||JSON.stringify(f.toJSON()):b&&(a.outSR=b.spatialReference.wkid||JSON.stringify(b.spatialReference.toJSON()));b=this.timeExtent;a.time=b?b.toJSON().join(","):null;if((b=this.relationParam)&&a.spatialRel===g.toJSON("relation"))a.relationParam=b;c&&(a.distance=this.distance,a.units=u.toJSON(this.units));this.hasOwnProperty("start")&&(a.resultOffset=this.start,
a.resultRecordCount=10,""===a.where&&(a.where="1\x3d1"));this.hasOwnProperty("num")&&(a.resultRecordCount=this.num);a.pixelSize=this.pixelSize?JSON.stringify(this.pixelSize.toJSON()):null;a.multipatchOption=this.multipatchOption;this.quantizationParameters&&(c=p.clone(this.quantizationParameters),c.originPosition&&(c.originPosition=v.toJSON(c.originPosition)),a.quantizationParameters=JSON.stringify(c));a._ts=this._ts;return a}});t.mixin(d,r);return d});