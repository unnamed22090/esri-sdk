// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0/esri/copyright.txt for details.
//>>built
define("dojo/_base/lang ./core/JSONSupporter ./core/lang ./PopupTemplate ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),function(e,g,n,h,k,l){var m=0,f=g.createSubclass({declaredClass:"esri.Graphic",classMetadata:{properties:{popupTemplate:{type:h}}},constructor:function(a){this.id=m++},normalizeCtorArgs:function(a,b,c,d){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:c,popupTemplate:d}},attributes:null,_attributesSetter:function(a,b){if(b===a)return b;this._notifyLayer("attributes",
b,a);return a},geometry:null,_geometrySetter:function(a,b){if(b===a)return b;this._notifyLayer("geometry",b,a);return a},_geometryReader:function(a){return k.fromJSON(a)},popupTemplate:null,symbol:null,_symbolSetter:function(a,b){if(b===a)return b;this._notifyLayer("symbol",b,a);return a},_symbolReader:function(a){return l.fromJSON(a)},visible:!0,_visibleSetter:function(a,b){if(b===a)return b;this._notifyLayer("visible",b,a);return a},getAttribute:function(a){return this.attributes&&this.attributes[a]},
setAttribute:function(a,b){var c;c=this.getAttribute(a);this.attributes?(this.attributes[a]=b,this._notifyLayer("attributes",c,b,a)):(c={},c[a]=b,this.attributes=c)},getEffectivePopupTemplate:function(){return this.popupTemplate||this.layer&&this.layer.popupTemplate},toJSON:function(){return{geometry:this.geometry&&this.geometry.toJSON(),symbol:this.symbol&&this.symbol.toJSON(),attributes:e.mixin({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}},clone:function(){return new f({attributes:e.clone(this.attributes),
geometry:this.geometry&&this.geometry.clone()||null,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),symbol:this.symbol&&this.symbol.clone()||null,visible:this.visible})},_notifyLayer:function(a,b,c,d){this.layer&&(a={graphic:this,property:a,oldValue:b,newValue:c},d&&(a.attributeName=d),this.layer.graphicChanged(a))}});return f});