// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0/esri/copyright.txt for details.
//>>built
define(["dojo/_base/lang","./Layer","./mixins/ArcGISImageService","./mixins/PortalLayer"],function(d,e,f,g){var c={canvas2D:"2d",webGL:"webgl",expWebGL:"experimental-webgl",webGL2:"webgl2",expWebGL2:"experimental-webgl2"};return e.createSubclass([f,g],{declaredClass:"esri.layers.ImageryLayer",portalLoaderModule:"portal/loaders/ImageryLayerLoader",viewModulePaths:{"2d":"../views/2d/layers/ImageLayerView2D","3d":"../views/3d/layers/ImageLayerView3D"},normalizeCtorArgs:function(a,b){return"string"===
typeof a?d.mixin({},{url:a},b):a},load:function(){this.addResolvingPromise(this.loadFromPortal(this._fetchService.bind(this)))},properties:{drawMode:!0,drawType:{value:c.canvas2D,cast:function(a){return a in c?a:c.canvas2D}},legendEnabled:{json:{readFrom:["showLegend"],read:function(a,b){return null!=b.showLegend?b.showLegend:!0}}},popupEnabled:{json:{readFrom:["disablePopup"],read:function(a,b){return null!=b.disablePopup?!b.disablePopup:!0}}},pixelFilter:null},redraw:function(){this.emit("redraw")},
fetchImage:function(a){return this._fetchImage(a)},applyFilter:function(a){return this._applyFilter(a)}})});