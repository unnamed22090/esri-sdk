// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0/esri/copyright.txt for details.
//>>built
define(["../../core/jsonDictionary","../../core/JSONSupport","../../core/lang"],function(f,g,d){var h=f({C128:"c128",C64:"c64",F32:"f32",F64:"f64",S16:"s16",S32:"s32",S8:"s8",U1:"u1",U16:"u16",U2:"u2",U32:"u32",U4:"u4",U8:"u8",UNKNOWN:"unknown"}),e=g.createSubclass({declaredClass:"esri.layers.support.RasterFunction",properties:{functionArguments:{value:null,json:{readFrom:["rasterFunctionArguments"],read:function(a,b){return this._resolveFunctionArguments(d.clone(b.rasterFunctionArguments))}}},functionName:{value:null,
json:{readFrom:["rasterFunction","rasterFunctionInfos"],read:function(a,b){a=b.rasterFunction;var c=b.rasterFunctionInfos;c&&(c.length&&"None"!==c[0].name)&&(a=c[0].name);return a}}},outputPixelType:{value:null},variableName:{value:null}},clone:function(){return e.fromJSON(this.toJSON())},toJSON:function(){var a=d.clone(this.functionArguments);rfxToJson=function(a){return a&&"esri.layers.support.RasterFunction"===a.declaredClass?a.toJSON():a};if(a&&(a.Raster=rfxToJson(a.Raster),a.Raster2=rfxToJson(a.Raster2),
a.DEM=rfxToJson(a.DEM),a.FillRaster=rfxToJson(a.FillRaster),a.Rasters&&a.Rasters.length)){var b,c=[];for(b=0;b<a.Rasters.length;b++)c.push(rfxToJson(a.Rasters[b]));a.Rasters=c}a={rasterFunction:this.functionName,rasterFunctionArguments:a,variableName:this.variableName,outputPixelType:h.toJSON(this.outputPixelType)};return d.filter(a,function(a){if(null!==a&&void 0!==a)return!0})},_resolveFunctionArguments:function(a){var b=function(a){return a&&a.rasterFunction?e.fromJSON(a):a};if(a&&(a.Raster=b(a.Raster),
a.Raster2=b(a.Raster2),a.DEM=b(a.DEM),a.FillRaster=b(a.FillRaster),a.Rasters&&a.Rasters.length))for(var c=0;c<a.Rasters.length;c++)a.Rasters[c]=b(a.Rasters[c]);return a}});return e});