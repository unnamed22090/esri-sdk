// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0/esri/copyright.txt for details.
//>>built
define(["../../core/Accessor","../../core/HandleRegistry","../../core/watchUtils","../../views/3d/navigation/EventController"],function(e,f,g,a){var c={disabled:"disabled",ready:"ready"};return e.createSubclass({declaredClass:"esri.widgets.NavigationToggleViewModel",properties:{navigationMode:{},state:{dependsOn:["view.navigationController","view.ready"],readOnly:!0},view:{}},constructor:function(){this._handles=new f;this.toggle=this.toggle.bind(this)},initialize:function(){this._handles.add(g.when(this,
"view.navigationController",this._updateNavMode.bind(this)))},destroy:function(){this._handles.destroy()},_handles:null,state:c.disabled,_stateGetter:function(){return this.get("view.ready")&&"esri.views.SceneView"===this.view.declaredClass?c.enabled:c.disabled},navigationMode:"pan",view:null,toggle:function(){if(this.state!==c.disabled){var b=this.get("view.navigationController"),d=b.getControls();d===a.PRO_PAN||d===a.PRO_TUMBLE?b.setControls("pan"!==this.navigationMode?a.PRO_PAN:a.PRO_TUMBLE):b.setControls("pan"!==
this.navigationMode?a.PAN:a.TUMBLE);this.navigationMode="pan"!==this.navigationMode?"pan":"rotate"}},_updateNavMode:function(){var b=this.view.navigationController.getControls();b===a.PRO_TUMBLE?b.setControls(a.PRO_PAN):b===a.TUMBLE&&b.setControls(a.PAN)}})});